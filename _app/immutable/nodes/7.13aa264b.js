import{s as O,f as k,g as E,h as S,d as g,j as _,i as D,I,J as q,o as B,V as J,p,k as X,C as Q,D as W}from"../chunks/scheduler.f4713bd7.js";import{S as K,i as U,t as P,c as Y,a as R,f as Z,b as N,d as x,m as $,e as ee,g as te}from"../chunks/index.1dc5bab6.js";const ne=["Activate","AddUndo","BeforeAddUndo","BeforeExecCommand","BeforeGetContent","BeforeRenderUI","BeforeSetContent","BeforePaste","Blur","Change","ClearUndos","Click","ContextMenu","Copy","Cut","Dblclick","Deactivate","Dirty","Drag","DragDrop","DragEnd","DragGesture","DragOver","Drop","ExecCommand","Focus","FocusIn","FocusOut","GetContent","Hide","Init","KeyDown","KeyPress","KeyUp","LoadContent","MouseDown","MouseEnter","MouseLeave","MouseMove","MouseOut","MouseOver","MouseUp","NodeChange","ObjectResizeStart","ObjectResized","ObjectSelected","Paste","PostProcess","PostRender","PreProcess","ProgressState","Redo","Remove","Reset","ResizeEditor","SaveContent","SelectionChange","SetAttrib","SetContent","Show","Submit","Undo","VisualAid"],ie=(i,e)=>{ne.forEach(t=>{i.on(t,o=>{e(t.toLowerCase(),{eventName:t,event:o,editor:i})})})};function se(i){let e;return{c(){e=k("textarea"),this.h()},l(t){e=E(t,"TEXTAREA",{id:!0,style:!0}),S(e).forEach(g),this.h()},h(){_(e,"id",i[0]),X(e,"visibility","hidden")},m(t,o){D(t,e,o),i[18](e)},p(t,o){o&1&&_(e,"id",t[0])},d(t){t&&g(e),i[18](null)}}}function oe(i){let e;return{c(){e=k("div"),this.h()},l(t){e=E(t,"DIV",{id:!0}),S(e).forEach(g),this.h()},h(){_(e,"id",i[0])},m(t,o){D(t,e,o),i[17](e)},p(t,o){o&1&&_(e,"id",t[0])},d(t){t&&g(e),i[17](null)}}}function le(i){let e;function t(l,n){return l[1]?oe:se}let o=t(i),r=o(i);return{c(){e=k("div"),r.c(),this.h()},l(l){e=E(l,"DIV",{class:!0});var n=S(e);r.l(n),n.forEach(g),this.h()},h(){_(e,"class",i[2])},m(l,n){D(l,e,n),r.m(e,null),i[19](e)},p(l,[n]){o===(o=t(l))&&r?r.p(l,n):(r.d(1),r=o(l),r&&(r.c(),r.m(e,null))),n&4&&_(e,"class",l[2])},i:I,o:I,d(l){l&&g(e),r.d(),i[19](null)}}}const T=i=>i+"_"+Math.floor(Math.random()*1e9)+String(Date.now()),re=()=>{let i={listeners:[],scriptId:T("tiny-script"),scriptLoaded:!1,injected:!1};const e=(o,r,l,n)=>{i.injected=!0;const c=r.createElement("script");c.referrerPolicy="origin",c.type="application/javascript",c.src=l,c.onload=()=>{n()},r.head&&r.head.appendChild(c)};return{load:(o,r,l)=>{i.scriptLoaded?l():(i.listeners.push(l),i.injected||e(i.scriptId,o,r,()=>{i.listeners.forEach(n=>n()),i.scriptLoaded=!0}))}}};let ce=re();function ae(i,e,t){var o;let{id:r=T("tinymce-svelte")}=e,{inline:l=void 0}=e,{disabled:n=!1}=e,{apiKey:c="no-api-key"}=e,{channel:a="6"}=e,{scriptSrc:b=void 0}=e,{conf:u={}}=e,{modelEvents:w="change input undo redo"}=e,{value:h=""}=e,{text:C=""}=e,{cssClass:L="tinymce-wrapper"}=e,v,m,f,y=h,j=n;const V=q(),M=()=>{const d=(()=>typeof window<"u"?window:global)();return d&&d.tinymce?d.tinymce:null},z=()=>{const s=Object.assign(Object.assign({},u),{target:m,inline:l!==void 0?l:u.inline!==void 0?u.inline:!1,readonly:n,setup:d=>{t(14,f=d),d.on("init",()=>{d.setContent(h),d.on(w,()=>{t(15,y=d.getContent()),y!==h&&(t(5,h=y),t(6,C=d.getContent({format:"text"})))})}),ie(d,V),typeof u.setup=="function"&&u.setup(d)}});t(4,m.style.visibility="",m),M().init(s)};B(()=>{if(M()!==null)z();else{const s=b||`https://cdn.tiny.cloud/1/${c}/tinymce/${a}/tinymce.min.js`;ce.load(v.ownerDocument,s,()=>{z()})}}),J(()=>{var s;f&&((s=M())===null||s===void 0||s.remove(f))});function F(s){p[s?"unshift":"push"](()=>{m=s,t(4,m)})}function G(s){p[s?"unshift":"push"](()=>{m=s,t(4,m)})}function H(s){p[s?"unshift":"push"](()=>{v=s,t(3,v)})}return i.$$set=s=>{"id"in s&&t(0,r=s.id),"inline"in s&&t(1,l=s.inline),"disabled"in s&&t(7,n=s.disabled),"apiKey"in s&&t(8,c=s.apiKey),"channel"in s&&t(9,a=s.channel),"scriptSrc"in s&&t(10,b=s.scriptSrc),"conf"in s&&t(11,u=s.conf),"modelEvents"in s&&t(12,w=s.modelEvents),"value"in s&&t(5,h=s.value),"text"in s&&t(6,C=s.text),"cssClass"in s&&t(2,L=s.cssClass)},i.$$.update=()=>{i.$$.dirty&123040&&(f&&y!==h&&(f.setContent(h),t(6,C=f.getContent({format:"text"}))),f&&n!==j&&(t(16,j=n),typeof(t(13,o=f.mode)===null||o===void 0?void 0:o.set)=="function"?f.mode.set(n?"readonly":"design"):f.setMode(n?"readonly":"design")))},[r,l,L,v,m,h,C,n,c,a,b,u,w,o,f,y,j,F,G,H]}class ue extends K{constructor(e){super(),U(this,e,ae,le,O,{id:0,inline:1,disabled:7,apiKey:8,channel:9,scriptSrc:10,conf:11,modelEvents:12,value:5,text:6,cssClass:2})}}function A(i){let e,t,o;function r(n){i[4](n)}let l={scriptSrc:"tinymce/tinymce.min.js",conf:i[0]};return i[2]!==void 0&&(l.value=i[2]),e=new ue({props:l}),p.push(()=>Z(e,"value",r)),{c(){N(e.$$.fragment)},l(n){x(e.$$.fragment,n)},m(n,c){$(e,n,c),o=!0},p(n,c){const a={};c&1&&(a.conf=n[0]),!t&&c&4&&(t=!0,a.value=n[2],W(()=>t=!1)),e.$set(a)},i(n){o||(R(e.$$.fragment,n),o=!0)},o(n){P(e.$$.fragment,n),o=!1},d(n){ee(e,n)}}}function de(i){let e,t=i[0].height,o,r,l,n=A(i);return{c(){e=k("div"),n.c(),this.h()},l(c){e=E(c,"DIV",{class:!0});var a=S(e);n.l(a),a.forEach(g),this.h()},h(){_(e,"class","w-full h-full")},m(c,a){D(c,e,a),n.m(e,null),i[5](e),o=!0,r||(l=Q(window,"resize",i[3]),r=!0)},p(c,[a]){a&1&&O(t,t=c[0].height)?(te(),P(n,1,1,I),Y(),n=A(c),n.c(),R(n,1),n.m(e,null)):n.p(c,a)},i(c){o||(R(n),o=!0)},o(c){P(n),o=!1},d(c){c&&g(e),n.d(c),i[5](null),r=!1,l()}}}function fe(i,e,t){const o={skin:"oxide-dark",content_css:"dark",resize:!1,height:200,plugins:["code","table","image","lists","help","link"],menubar:"edit insert view format table help",toolbar:"undo redo | styles | bold italic underline strikethrough subscript superscript | link image table | aligncenter alignjustify alignleft alignright | backcolor forecolor | fontsize | numlist bullist | hr | removeformat"};let r,l;const n=()=>{l&&clearTimeout(l),l=setTimeout(()=>{t(0,o.height=r.offsetHeight,o)},50)};B(()=>{n()});let c="";function a(u){c=u,t(2,c)}function b(u){p[u?"unshift":"push"](()=>{r=u,t(1,r)})}return[o,r,c,n,a,b]}class ge extends K{constructor(e){super(),U(this,e,fe,de,O,{})}}export{ge as component};
