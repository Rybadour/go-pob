import{S as Jt,i as Kt,s as Zt,e as Ut,b as Ee,f as _e,t as Le,d as lt,h as s,I as Nl,o as xt,T as fl,a0 as pl,k as n,q as S,a as m,v as _l,l as o,m as r,r as b,c as v,w as dl,n as d,M as xl,E as e,N as Gl,x as ml,H as be,a1 as vl,g as tt,O as Wt,y as hl,C as at,u as Cl,ac as Ol,L as $l}from"../../../chunks/index-0e633497.js";import{c as tl,N as wl,U as $t}from"../../../chunks/global-e3c3ce57.js";import{I as ea}from"../../../chunks/Input-2e2aa371.js";import{w as et}from"../../../chunks/index-1b0950db.js";import{s as la}from"../../../chunks/worker-9c98ab58.js";import{S as ta,a as aa,b as sa}from"../../../chunks/SelectSelection-bc36511b.js";import{G as na}from"../../../chunks/cache-c05b5883.js";import{c as Al}from"../../../chunks/colors-7fb82586.js";function Rt(t,c,i){const l=t.slice();return l[44]=c[i],l[45]=c,l[46]=i,l}function qt(t,c,i){const l=t.slice();return l[47]=c[i],l[46]=i,l}function Ht(t){let c,i,l,f,I,M,Y,G,w,C,Q,O,j,H,q,B,T,h,U,de,V,re,J,p,se,Ne,A,x,Qe,me,Fe,z,Ie,W,Ce,u,L,ce,ee,ve,he,Me,Be,We,Ue,ke,a,_,le,k,fe,Re,je,ge,Pe,Ye,ne,D,we,P,N,g,y,Se,oe,Oe,ie,ye,te,R,ue,F,Ge,ze,Je,qe,Ke,Ze,Ae,ae,De,xe,ul,rl,$e,Vl,Ql,Dl,Fl,Ml,el,Ul,Rl,El,ql,Hl,Sl,bl,Ve,al,Xl,sl,jl,nl,Bl,Wl,Il,Yl,zl,kl,ol,Jl,cl,Kl,st,gl=t[4],pe=[];for(let E=0;E<gl.length;E+=1)pe[E]=Xt(qt(t,gl,E));function Yt(E){t[25](E)}let nt={min:1,max:40};t[5].defaultGemLevel!==void 0&&(nt.value=t[5].defaultGemLevel),$e=new wl({props:nt}),fl.push(()=>pl($e,"value",Yt));function zt(E){t[26](E)}let ot={min:0,max:30};t[5].defaultGemQuality!==void 0&&(ot.value=t[5].defaultGemQuality),el=new wl({props:ot}),fl.push(()=>pl(el,"value",zt));let K=t[6]&&jt(t);return{c(){c=n("div"),i=n("div"),l=n("div"),f=n("div"),I=n("span"),M=S("Skill set:"),Y=m(),G=n("div"),w=n("select"),C=n("option"),Q=S("Default"),j=m(),H=n("button"),q=S("Manage..."),B=m(),T=n("div"),h=n("span"),U=S("Socket Groups:"),de=m(),V=n("button"),re=S("New"),J=m(),p=n("button"),se=S("Delete All"),A=m(),x=n("button"),Qe=S("Delete"),Fe=m(),z=n("select");for(let E=0;E<pe.length;E+=1)pe[E].c();Ie=m(),W=n("p"),Ce=S("Usage Tips:"),u=n("br"),L=S(`
          - You can copy/paste socket groups using Ctrl+C and Ctrl+V.`),ce=n("br"),ee=S(`
          - Ctrl + Click to enable/disable socket groups.`),ve=n("br"),he=S(`
          - Ctrl + Right click to include/exclude in FullDPS calculations.`),Me=n("br"),Be=S(`
          - Right click to set as the Main skill group.`),We=n("br"),Ue=m(),ke=n("fieldset"),a=n("legend"),_=S("Gem Options"),le=m(),k=n("div"),fe=n("span"),Re=S("Sort gems by DPS:"),je=m(),ge=n("div"),Pe=n("input"),Ye=m(),ne=n("div"),D=n("select"),we=n("option"),P=S("Full DPS"),N=n("option"),g=S("Combined DPS"),y=n("option"),Se=S("Total DPS"),oe=n("option"),Oe=S("Average Hit"),ie=n("option"),ye=S("DoT DPS"),te=n("option"),R=S("Bleed DPS"),ue=n("option"),F=S("Ignite DPS"),Ge=n("option"),ze=S("Poison DPS"),Je=m(),qe=n("span"),Ke=S("Match gems character level:"),Ze=m(),Ae=n("div"),ae=n("input"),De=m(),xe=n("span"),ul=S("Default gem level:"),rl=m(),_l($e.$$.fragment),Ql=m(),Dl=n("span"),Fl=S("Default gem quality:"),Ml=m(),_l(el.$$.fragment),Rl=m(),El=n("span"),ql=S("Show support gems:"),Hl=m(),Sl=n("div"),bl=n("div"),Ve=n("select"),al=n("option"),Xl=S("All"),sl=n("option"),jl=S("Non-Awakened"),nl=n("option"),Bl=S("Awakened"),Wl=m(),Il=n("span"),Yl=S("Show gem quality variants:"),zl=m(),kl=n("div"),ol=n("input"),Jl=m(),K&&K.c(),this.h()},l(E){c=o(E,"DIV",{class:!0});var Z=r(c);i=o(Z,"DIV",{class:!0});var He=r(i);l=o(He,"DIV",{class:!0});var Te=r(l);f=o(Te,"DIV",{class:!0});var $=r(f);I=o($,"SPAN",{});var Pl=r(I);M=b(Pl,"Skill set:"),Pl.forEach(s),Y=v($),G=o($,"DIV",{class:!0});var it=r(G);w=o(it,"SELECT",{class:!0});var ut=r(w);C=o(ut,"OPTION",{});var rt=r(C);Q=b(rt,"Default"),rt.forEach(s),ut.forEach(s),it.forEach(s),j=v($),H=o($,"BUTTON",{class:!0});var ct=r(H);q=b(ct,"Manage..."),ct.forEach(s),$.forEach(s),B=v(Te),T=o(Te,"DIV",{class:!0});var il=r(T);h=o(il,"SPAN",{class:!0});var ft=r(h);U=b(ft,"Socket Groups:"),ft.forEach(s),de=v(il),V=o(il,"BUTTON",{class:!0});var pt=r(V);re=b(pt,"New"),pt.forEach(s),J=v(il),p=o(il,"BUTTON",{class:!0});var _t=r(p);se=b(_t,"Delete All"),_t.forEach(s),A=v(il),x=o(il,"BUTTON",{class:!0});var dt=r(x);Qe=b(dt,"Delete"),dt.forEach(s),il.forEach(s),Fe=v(Te),z=o(Te,"SELECT",{class:!0,size:!0});var mt=r(z);for(let Zl=0;Zl<pe.length;Zl+=1)pe[Zl].l(mt);mt.forEach(s),Ie=v(Te),W=o(Te,"P",{class:!0});var Xe=r(W);Ce=b(Xe,"Usage Tips:"),u=o(Xe,"BR",{}),L=b(Xe,`
          - You can copy/paste socket groups using Ctrl+C and Ctrl+V.`),ce=o(Xe,"BR",{}),ee=b(Xe,`
          - Ctrl + Click to enable/disable socket groups.`),ve=o(Xe,"BR",{}),he=b(Xe,`
          - Ctrl + Right click to include/exclude in FullDPS calculations.`),Me=o(Xe,"BR",{}),Be=b(Xe,`
          - Right click to set as the Main skill group.`),We=o(Xe,"BR",{}),Xe.forEach(s),Ue=v(Te),ke=o(Te,"FIELDSET",{class:!0});var yl=r(ke);a=o(yl,"LEGEND",{class:!0});var vt=r(a);_=b(vt,"Gem Options"),vt.forEach(s),le=v(yl),k=o(yl,"DIV",{class:!0});var X=r(k);fe=o(X,"SPAN",{});var ht=r(fe);Re=b(ht,"Sort gems by DPS:"),ht.forEach(s),je=v(X),ge=o(X,"DIV",{class:!0});var Tl=r(ge);Pe=o(Tl,"INPUT",{type:!0,class:!0}),Ye=v(Tl),ne=o(Tl,"DIV",{class:!0});var St=r(ne);D=o(St,"SELECT",{class:!0});var ll=r(D);we=o(ll,"OPTION",{});var bt=r(we);P=b(bt,"Full DPS"),bt.forEach(s),N=o(ll,"OPTION",{});var kt=r(N);g=b(kt,"Combined DPS"),kt.forEach(s),y=o(ll,"OPTION",{});var gt=r(y);Se=b(gt,"Total DPS"),gt.forEach(s),oe=o(ll,"OPTION",{});var Gt=r(oe);Oe=b(Gt,"Average Hit"),Gt.forEach(s),ie=o(ll,"OPTION",{});var Dt=r(ie);ye=b(Dt,"DoT DPS"),Dt.forEach(s),te=o(ll,"OPTION",{});var Et=r(te);R=b(Et,"Bleed DPS"),Et.forEach(s),ue=o(ll,"OPTION",{});var It=r(ue);F=b(It,"Ignite DPS"),It.forEach(s),Ge=o(ll,"OPTION",{});var Pt=r(Ge);ze=b(Pt,"Poison DPS"),Pt.forEach(s),ll.forEach(s),St.forEach(s),Tl.forEach(s),Je=v(X),qe=o(X,"SPAN",{});var wt=r(qe);Ke=b(wt,"Match gems character level:"),wt.forEach(s),Ze=v(X),Ae=o(X,"DIV",{class:!0});var yt=r(Ae);ae=o(yt,"INPUT",{type:!0,class:!0}),yt.forEach(s),De=v(X),xe=o(X,"SPAN",{});var Tt=r(xe);ul=b(Tt,"Default gem level:"),Tt.forEach(s),rl=v(X),dl($e.$$.fragment,X),Ql=v(X),Dl=o(X,"SPAN",{});var Lt=r(Dl);Fl=b(Lt,"Default gem quality:"),Lt.forEach(s),Ml=v(X),dl(el.$$.fragment,X),Rl=v(X),El=o(X,"SPAN",{});var Nt=r(El);ql=b(Nt,"Show support gems:"),Nt.forEach(s),Hl=v(X),Sl=o(X,"DIV",{class:!0});var Ct=r(Sl);bl=o(Ct,"DIV",{class:!0});var Ot=r(bl);Ve=o(Ot,"SELECT",{class:!0});var Ll=r(Ve);al=o(Ll,"OPTION",{});var At=r(al);Xl=b(At,"All"),At.forEach(s),sl=o(Ll,"OPTION",{});var Vt=r(sl);jl=b(Vt,"Non-Awakened"),Vt.forEach(s),nl=o(Ll,"OPTION",{});var Qt=r(nl);Bl=b(Qt,"Awakened"),Qt.forEach(s),Ll.forEach(s),Ot.forEach(s),Ct.forEach(s),Wl=v(X),Il=o(X,"SPAN",{});var Ft=r(Il);Yl=b(Ft,"Show gem quality variants:"),Ft.forEach(s),zl=v(X),kl=o(X,"DIV",{class:!0});var Mt=r(kl);ol=o(Mt,"INPUT",{type:!0,class:!0}),Mt.forEach(s),X.forEach(s),yl.forEach(s),Te.forEach(s),Jl=v(He),K&&K.l(He),He.forEach(s),Z.forEach(s),this.h()},h(){C.__value="Default",C.value=C.__value,d(w,"class","input"),w.disabled=O=t[3]===1,d(G,"class","container select-wrapper flex-1"),d(H,"class","container"),d(f,"class","flex flex-row items-center gap-2"),d(h,"class","flex-1"),d(V,"class","container"),d(p,"class","container"),p.disabled=Ne=t[4].length<=1,d(x,"class","container"),x.disabled=me=t[0]<0||t[4].length<=1,d(T,"class","flex flex-row items-center gap-2"),d(z,"class","bg-black border w-full border-neutral-400 flex-1 select-many max-h-[19em]"),d(z,"size","18"),t[0]===void 0&&xl(()=>t[21].call(z)),d(W,"class","text-sm"),d(a,"class","container"),d(Pe,"type","checkbox"),d(Pe,"class","text-2xl"),we.__value="FullDPS",we.value=we.__value,N.__value="CombinedDPS",N.value=N.__value,y.__value="TotalDPS",y.value=y.__value,oe.__value="AverageDamage",oe.value=oe.__value,ie.__value="TotalDot",ie.value=ie.__value,te.__value="BleedDPS",te.value=te.__value,ue.__value="IgniteDPS",ue.value=ue.__value,Ge.__value="TotalPoisonDPS",Ge.value=Ge.__value,d(D,"class","input"),t[5].sortGemsByDPSField===void 0&&xl(()=>t[23].call(D)),d(ne,"class","container select-wrapper"),d(ge,"class","flex flex-row gap-2"),d(ae,"type","checkbox"),d(ae,"class","text-2xl"),d(Ae,"class","flex flex-row gap-2"),al.__value="ALL",al.value=al.__value,sl.__value="NORMAL",sl.value=sl.__value,nl.__value="AWAKENED",nl.value=nl.__value,d(Ve,"class","input"),t[5].showSupportGemTypes===void 0&&xl(()=>t[27].call(Ve)),d(bl,"class","container select-wrapper"),d(Sl,"class","flex flex-row gap-2"),d(ol,"type","checkbox"),d(ol,"class","text-2xl"),d(kl,"class","flex flex-row gap-2"),d(k,"class","side-by-side-max-content"),d(ke,"class","border border-white bg-neutral-900 p-2"),d(l,"class","flex flex-col w-[28em] gap-2"),d(i,"class","flex flex-row gap-4 flex-wrap"),d(c,"class","p-2 px-4 w-full h-full overflow-y-auto")},m(E,Z){Ee(E,c,Z),e(c,i),e(i,l),e(l,f),e(f,I),e(I,M),e(f,Y),e(f,G),e(G,w),e(w,C),e(C,Q),e(f,j),e(f,H),e(H,q),e(l,B),e(l,T),e(T,h),e(h,U),e(T,de),e(T,V),e(V,re),e(T,J),e(T,p),e(p,se),e(T,A),e(T,x),e(x,Qe),e(l,Fe),e(l,z);for(let He=0;He<pe.length;He+=1)pe[He].m(z,null);Gl(z,t[0]),e(l,Ie),e(l,W),e(W,Ce),e(W,u),e(W,L),e(W,ce),e(W,ee),e(W,ve),e(W,he),e(W,Me),e(W,Be),e(W,We),e(l,Ue),e(l,ke),e(ke,a),e(a,_),e(ke,le),e(ke,k),e(k,fe),e(fe,Re),e(k,je),e(k,ge),e(ge,Pe),Pe.checked=t[5].sortGemsByDPS,e(ge,Ye),e(ge,ne),e(ne,D),e(D,we),e(we,P),e(D,N),e(N,g),e(D,y),e(y,Se),e(D,oe),e(oe,Oe),e(D,ie),e(ie,ye),e(D,te),e(te,R),e(D,ue),e(ue,F),e(D,Ge),e(Ge,ze),Gl(D,t[5].sortGemsByDPSField),e(k,Je),e(k,qe),e(qe,Ke),e(k,Ze),e(k,Ae),e(Ae,ae),ae.checked=t[5].matchGemLevelToCharacterLevel,e(k,De),e(k,xe),e(xe,ul),e(k,rl),ml($e,k,null),e(k,Ql),e(k,Dl),e(Dl,Fl),e(k,Ml),ml(el,k,null),e(k,Rl),e(k,El),e(El,ql),e(k,Hl),e(k,Sl),e(Sl,bl),e(bl,Ve),e(Ve,al),e(al,Xl),e(Ve,sl),e(sl,jl),e(Ve,nl),e(nl,Bl),Gl(Ve,t[5].showSupportGemTypes),e(k,Wl),e(k,Il),e(Il,Yl),e(k,zl),e(k,kl),e(kl,ol),ol.checked=t[5].showAltQualityGems,e(i,Jl),K&&K.m(i,null),cl=!0,Kl||(st=[be(V,"click",t[15]),be(p,"click",t[17]),be(x,"click",t[16]),be(z,"change",t[21]),be(Pe,"change",t[22]),be(D,"change",t[23]),be(ae,"change",t[24]),be(Ve,"change",t[27]),be(ol,"change",t[28])],Kl=!0)},p(E,Z){if((!cl||Z[0]&8&&O!==(O=E[3]===1))&&(w.disabled=O),(!cl||Z[0]&16&&Ne!==(Ne=E[4].length<=1))&&(p.disabled=Ne),(!cl||Z[0]&17&&me!==(me=E[0]<0||E[4].length<=1))&&(x.disabled=me),Z[0]&2192){gl=E[4];let $;for($=0;$<gl.length;$+=1){const Pl=qt(E,gl,$);pe[$]?pe[$].p(Pl,Z):(pe[$]=Xt(Pl),pe[$].c(),pe[$].m(z,null))}for(;$<pe.length;$+=1)pe[$].d(1);pe.length=gl.length}Z[0]&1&&Gl(z,E[0]),Z[0]&32&&(Pe.checked=E[5].sortGemsByDPS),Z[0]&32&&Gl(D,E[5].sortGemsByDPSField),Z[0]&32&&(ae.checked=E[5].matchGemLevelToCharacterLevel);const He={};!Vl&&Z[0]&32&&(Vl=!0,He.value=E[5].defaultGemLevel,vl(()=>Vl=!1)),$e.$set(He);const Te={};!Ul&&Z[0]&32&&(Ul=!0,Te.value=E[5].defaultGemQuality,vl(()=>Ul=!1)),el.$set(Te),Z[0]&32&&Gl(Ve,E[5].showSupportGemTypes),Z[0]&32&&(ol.checked=E[5].showAltQualityGems),E[6]?K?(K.p(E,Z),Z[0]&64&&_e(K,1)):(K=jt(E),K.c(),_e(K,1),K.m(i,null)):K&&(tt(),Le(K,1,1,()=>{K=null}),lt())},i(E){cl||(_e($e.$$.fragment,E),_e(el.$$.fragment,E),_e(K),cl=!0)},o(E){Le($e.$$.fragment,E),Le(el.$$.fragment,E),Le(K),cl=!1},d(E){E&&s(c),Wt(pe,E),hl($e),hl(el),K&&K.d(),Kl=!1,at(st)}}}function Xt(t){let c,i=t[47].label+"",l,f,I=t[47].enabled?"":" (Disabled)",M,Y,G=t[7]===t[46]?" (Active)":"",w,C,Q=t[47].fullDPS?" (FullDPS)":"",O,j,H,q;function B(...T){return t[20](t[46],...T)}return{c(){c=n("option"),l=S(i),f=m(),M=S(I),Y=m(),w=S(G),C=m(),O=S(Q),j=m(),this.h()},l(T){c=o(T,"OPTION",{});var h=r(c);l=b(h,i),f=v(h),M=b(h,I),Y=v(h),w=b(h,G),C=v(h),O=b(h,Q),j=v(h),h.forEach(s),this.h()},h(){c.__value=t[46],c.value=c.__value},m(T,h){Ee(T,c,h),e(c,l),e(c,f),e(c,M),e(c,Y),e(c,w),e(c,C),e(c,O),e(c,j),H||(q=be(c,"contextmenu",B),H=!0)},p(T,h){t=T,h[0]&16&&i!==(i=t[47].label+"")&&Cl(l,i),h[0]&16&&I!==(I=t[47].enabled?"":" (Disabled)")&&Cl(M,I),h[0]&128&&G!==(G=t[7]===t[46]?" (Active)":"")&&Cl(w,G),h[0]&16&&Q!==(Q=t[47].fullDPS?" (FullDPS)":"")&&Cl(O,Q)},d(T){T&&s(c),H=!1,q()}}}function jt(t){let c,i,l,f,I,M,Y,G,w,C,Q,O,j,H,q,B,T,h,U,de,V,re,J,p,se,Ne,A,x,Qe,me,Fe,z,Ie,W,Ce,u,L,ce,ee,ve,he,Me,Be,We,Ue,ke,a,_,le,k,fe,Re,je,ge;function Pe(P){t[29](P)}let Ye={prefix:"Label:",fullWidth:!0};t[8]!==void 0&&(Ye.value=t[8]),i=new ea({props:Ye}),fl.push(()=>pl(i,"value",Pe));let ne=t[6].Gems,D=[];for(let P=0;P<ne.length;P+=1)D[P]=Bt(Rt(t,ne,P));const we=P=>Le(D[P],1,1,()=>{D[P]=null});return{c(){c=n("div"),_l(i.$$.fragment),f=m(),I=n("div"),M=n("div"),Y=n("span"),G=S("Socketed in:"),w=m(),C=n("div"),Q=n("select"),O=n("option"),j=S("None"),H=m(),q=n("div"),B=n("span"),T=S("Enabled:"),h=m(),U=n("input"),de=m(),V=n("div"),re=n("span"),J=S("Include in Full DPS:"),p=m(),se=n("input"),Ne=m(),A=n("div"),x=n("div"),Qe=m(),me=n("div"),Fe=S("Gem Name"),z=m(),Ie=n("div"),W=S("Level"),Ce=m(),u=n("div"),L=S("Variant"),ce=m(),ee=n("div"),ve=S("Quality"),he=m(),Me=n("div"),Be=S("Enabled"),We=m(),Ue=n("div"),ke=S("Count"),a=m();for(let P=0;P<D.length;P+=1)D[P].c();_=m(),le=n("div"),k=n("button"),fe=S("Add Skill Gem"),this.h()},l(P){c=o(P,"DIV",{class:!0});var N=r(c);dl(i.$$.fragment,N),f=v(N),I=o(N,"DIV",{class:!0});var g=r(I);M=o(g,"DIV",{class:!0});var y=r(M);Y=o(y,"SPAN",{});var Se=r(Y);G=b(Se,"Socketed in:"),Se.forEach(s),w=v(y),C=o(y,"DIV",{class:!0});var oe=r(C);Q=o(oe,"SELECT",{class:!0});var Oe=r(Q);O=o(Oe,"OPTION",{});var ie=r(O);j=b(ie,"None"),ie.forEach(s),Oe.forEach(s),oe.forEach(s),y.forEach(s),H=v(g),q=o(g,"DIV",{class:!0});var ye=r(q);B=o(ye,"SPAN",{});var te=r(B);T=b(te,"Enabled:"),te.forEach(s),h=v(ye),U=o(ye,"INPUT",{type:!0,class:!0}),ye.forEach(s),de=v(g),V=o(g,"DIV",{class:!0});var R=r(V);re=o(R,"SPAN",{});var ue=r(re);J=b(ue,"Include in Full DPS:"),ue.forEach(s),p=v(R),se=o(R,"INPUT",{type:!0,class:!0}),R.forEach(s),g.forEach(s),Ne=v(N),A=o(N,"DIV",{class:!0});var F=r(A);x=o(F,"DIV",{}),r(x).forEach(s),Qe=v(F),me=o(F,"DIV",{});var Ge=r(me);Fe=b(Ge,"Gem Name"),Ge.forEach(s),z=v(F),Ie=o(F,"DIV",{});var ze=r(Ie);W=b(ze,"Level"),ze.forEach(s),Ce=v(F),u=o(F,"DIV",{});var Je=r(u);L=b(Je,"Variant"),Je.forEach(s),ce=v(F),ee=o(F,"DIV",{});var qe=r(ee);ve=b(qe,"Quality"),qe.forEach(s),he=v(F),Me=o(F,"DIV",{});var Ke=r(Me);Be=b(Ke,"Enabled"),Ke.forEach(s),We=v(F),Ue=o(F,"DIV",{});var Ze=r(Ue);ke=b(Ze,"Count"),Ze.forEach(s),a=v(F);for(let De=0;De<D.length;De+=1)D[De].l(F);_=v(F),le=o(F,"DIV",{class:!0});var Ae=r(le);k=o(Ae,"BUTTON",{class:!0});var ae=r(k);fe=b(ae,"Add Skill Gem"),ae.forEach(s),Ae.forEach(s),F.forEach(s),N.forEach(s),this.h()},h(){O.__value="None",O.value=O.__value,d(Q,"class","input"),d(C,"class","container select-wrapper"),d(M,"class","flex flex-row items-center gap-2"),d(U,"type","checkbox"),d(U,"class","text-2xl"),d(q,"class","flex flex-row items-center gap-2"),d(se,"type","checkbox"),d(se,"class","text-2xl"),d(V,"class","flex flex-row items-center gap-2"),d(I,"class","flex flex-row w-full justify-between"),d(k,"class","container font-bold min-w-full"),d(le,"class","col-span-7 w-full mt-2"),d(A,"class","grid gem-grid gap-1 w-full svelte-1ehf173"),d(c,"class","flex flex-col min-w-[30em] gap-2")},m(P,N){Ee(P,c,N),ml(i,c,null),e(c,f),e(c,I),e(I,M),e(M,Y),e(Y,G),e(M,w),e(M,C),e(C,Q),e(Q,O),e(O,j),e(I,H),e(I,q),e(q,B),e(B,T),e(q,h),e(q,U),U.checked=t[6].Enabled,e(I,de),e(I,V),e(V,re),e(re,J),e(V,p),e(V,se),se.checked=t[6].IncludeInFullDPS,e(c,Ne),e(c,A),e(A,x),e(A,Qe),e(A,me),e(me,Fe),e(A,z),e(A,Ie),e(Ie,W),e(A,Ce),e(A,u),e(u,L),e(A,ce),e(A,ee),e(ee,ve),e(A,he),e(A,Me),e(Me,Be),e(A,We),e(A,Ue),e(Ue,ke),e(A,a);for(let g=0;g<D.length;g+=1)D[g].m(A,null);e(A,_),e(A,le),e(le,k),e(k,fe),Re=!0,je||(ge=[be(U,"change",t[30]),be(se,"change",t[31]),be(k,"click",t[38])],je=!0)},p(P,N){const g={};if(!l&&N[0]&256&&(l=!0,g.value=P[8],vl(()=>l=!1)),i.$set(g),N[0]&64&&(U.checked=P[6].Enabled),N[0]&64&&(se.checked=P[6].IncludeInFullDPS),N[0]&8258){ne=P[6].Gems;let y;for(y=0;y<ne.length;y+=1){const Se=Rt(P,ne,y);D[y]?(D[y].p(Se,N),_e(D[y],1)):(D[y]=Bt(Se),D[y].c(),_e(D[y],1),D[y].m(A,_))}for(tt(),y=ne.length;y<D.length;y+=1)we(y);lt()}},i(P){if(!Re){_e(i.$$.fragment,P);for(let N=0;N<ne.length;N+=1)_e(D[N]);Re=!0}},o(P){Le(i.$$.fragment,P),D=D.filter(Boolean);for(let N=0;N<D.length;N+=1)Le(D[N]);Re=!1},d(P){P&&s(c),hl(i),Wt(D,P),je=!1,at(ge)}}}function Bt(t){let c,i,l,f,I,M,Y,G,w,C,Q,O,j,H,q,B,T,h,U,de,V,re,J,p,se;function Ne(){return t[32](t[46])}function A(u){t[33](u,t[44])}let x={items:t[1],isClearable:!1,placeholder:"",showIndicator:!0,Item:ta,Selection:aa,listOffset:0};t[44].GemListValue!==void 0&&(x.value=t[44].GemListValue),I=new sa({props:x}),fl.push(()=>pl(I,"value",A));function Qe(u){t[34](u,t[44])}let me={min:1,max:t[44].GemListValue.data.MaxLevel};t[44].Level!==void 0&&(me.value=t[44].Level),G=new wl({props:me}),fl.push(()=>pl(G,"value",Qe));function Fe(u){t[35](u,t[44])}let z={min:0,max:30};t[44].Quality!==void 0&&(z.value=t[44].Quality),B=new wl({props:z}),fl.push(()=>pl(B,"value",Fe));function Ie(){t[36].call(U,t[45],t[46])}function W(u){t[37](u,t[44])}let Ce={min:1,max:99};return t[44].Count!==void 0&&(Ce.value=t[44].Count),V=new wl({props:Ce}),fl.push(()=>pl(V,"value",W)),{c(){c=n("button"),i=S("X"),l=m(),f=n("div"),_l(I.$$.fragment),Y=m(),_l(G.$$.fragment),C=m(),Q=n("div"),O=n("select"),j=n("option"),H=S("Default"),q=m(),_l(B.$$.fragment),h=m(),U=n("input"),de=m(),_l(V.$$.fragment),this.h()},l(u){c=o(u,"BUTTON",{class:!0});var L=r(c);i=b(L,"X"),L.forEach(s),l=v(u),f=o(u,"DIV",{class:!0});var ce=r(f);dl(I.$$.fragment,ce),ce.forEach(s),Y=v(u),dl(G.$$.fragment,u),C=v(u),Q=o(u,"DIV",{class:!0});var ee=r(Q);O=o(ee,"SELECT",{class:!0});var ve=r(O);j=o(ve,"OPTION",{});var he=r(j);H=b(he,"Default"),he.forEach(s),ve.forEach(s),ee.forEach(s),q=v(u),dl(B.$$.fragment,u),h=v(u),U=o(u,"INPUT",{type:!0,class:!0}),de=v(u),dl(V.$$.fragment,u),this.h()},h(){d(c,"class","container font-bold"),d(f,"class","min-w-full themed"),j.__value="Default",j.value=j.__value,d(O,"class","input"),d(Q,"class","container select-wrapper"),d(U,"type","checkbox"),d(U,"class","text-2xl")},m(u,L){Ee(u,c,L),e(c,i),Ee(u,l,L),Ee(u,f,L),ml(I,f,null),Ee(u,Y,L),ml(G,u,L),Ee(u,C,L),Ee(u,Q,L),e(Q,O),e(O,j),e(j,H),Ee(u,q,L),ml(B,u,L),Ee(u,h,L),Ee(u,U,L),U.checked=t[44].Enabled,Ee(u,de,L),ml(V,u,L),J=!0,p||(se=[be(c,"click",Ne),be(U,"change",Ie)],p=!0)},p(u,L){t=u;const ce={};L[0]&2&&(ce.items=t[1]),!M&&L[0]&64&&(M=!0,ce.value=t[44].GemListValue,vl(()=>M=!1)),I.$set(ce);const ee={};L[0]&64&&(ee.max=t[44].GemListValue.data.MaxLevel),!w&&L[0]&64&&(w=!0,ee.value=t[44].Level,vl(()=>w=!1)),G.$set(ee);const ve={};!T&&L[0]&64&&(T=!0,ve.value=t[44].Quality,vl(()=>T=!1)),B.$set(ve),L[0]&64&&(U.checked=t[44].Enabled);const he={};!re&&L[0]&64&&(re=!0,he.value=t[44].Count,vl(()=>re=!1)),V.$set(he)},i(u){J||(_e(I.$$.fragment,u),_e(G.$$.fragment,u),_e(B.$$.fragment,u),_e(V.$$.fragment,u),J=!0)},o(u){Le(I.$$.fragment,u),Le(G.$$.fragment,u),Le(B.$$.fragment,u),Le(V.$$.fragment,u),J=!1},d(u){u&&s(c),u&&s(l),u&&s(f),hl(I),u&&s(Y),hl(G,u),u&&s(C),u&&s(Q),u&&s(q),hl(B,u),u&&s(h),u&&s(U),u&&s(de),hl(V,u),p=!1,at(se)}}}function oa(t){let c,i,l=t[2]&&Ht(t);return{c(){l&&l.c(),c=Ut()},l(f){l&&l.l(f),c=Ut()},m(f,I){l&&l.m(f,I),Ee(f,c,I),i=!0},p(f,I){f[2]?l?(l.p(f,I),I[0]&4&&_e(l,1)):(l=Ht(f),l.c(),_e(l,1),l.m(c.parentNode,c)):l&&(tt(),Le(l,1,1,()=>{l=null}),lt())},i(f){i||(_e(l),i=!0)},o(f){Le(l),i=!1},d(f){l&&l.d(f),f&&s(c)}}}function ia(t,c,i){let l,f,I,M;Nl(t,tl,a=>i(2,l=a));let Y=1,G=1,w=0;const C=et(-1);Nl(t,C,a=>i(7,I=a)),C.subscribe(a=>{var _;a>=0&&((_=la)==null||_.SetMainSocketGroup(a+1)),tl.set(l)});let Q=!0;const O=et("");Nl(t,O,a=>i(8,M=a)),O.subscribe(a=>{Q||!l||Ol(tl,l.Skills.SkillSets[G-1].Skills[w].Label=a,l)});const j=(a,_)=>{_.preventDefault(),_.stopPropagation(),C.set(a)};let H=[];const q={},B={STR:Al.STRENGTH,DEX:Al.DEXTERITY,INT:Al.INTELLIGENCE,NONE:Al.NORMAL};xt(()=>{na().then(a=>{i(1,H=a.map(_=>({label:"^"+B[_.GemType]+_.Base.Name,value:_.ID,data:_}))),a.forEach(_=>{i(19,q[_.ID]=_,q)})})});let T=!0;const h=et();Nl(t,h,a=>i(6,f=a));let U="";h.subscribe(async a=>{var le;if(T||!a||!l||!l.Skills||!l.Skills.SkillSets||!l.Skills.SkillSets[G-1]||!l.Skills.SkillSets[G-1].Skills||!l.Skills.SkillSets[G-1].Skills[w])return;const _=JSON.stringify(a);U!==_&&(U=_,Ol(tl,l.Skills.SkillSets[G-1].Skills[w].Slot=a.Slot,l),Ol(tl,l.Skills.SkillSets[G-1].Skills[w].Enabled=a.Enabled,l),Ol(tl,l.Skills.SkillSets[G-1].Skills[w].IncludeInFullDPS=a.IncludeInFullDPS,l),a.Gems&&await((le=l==null?void 0:l.SetSocketGroupGems)==null?void 0:le.call(l,G-1,w,a.Gems.map(k=>({...k,GemID:k.GemListValue.value})))),$t("currentGemGroup"))});let de=[];const V=a=>{var _;(_=f==null?void 0:f.Gems)==null||_.splice(a,1),h.set(f)},re=()=>{var _;const a=H[0];(_=f==null?void 0:f.Gems)==null||_.push({GemListValue:a,Quality:0,SkillPart:1,EnableGlobal2:!0,SkillPartCalcs:1,QualityID:"Default",GemID:"Metadata/Items/Gems/SkillGemFireball",Enabled:!0,Count:1,EnableGlobal1:!0,NameSpec:a.value,Level:1,SkillID:a.value,SkillMinionItemSet:1,SkillMinion:"SummonedPhantasm"}),h.set(f)},J=(a,_,le)=>{const k="_"+_;Object.defineProperty(a,_,{get(){return this[k]},set(fe){this[k]!==fe&&l&&(le(fe),this[k]=fe)}})},p={_sortGemsByDPS:!0,_sortGemsByDPSField:"FullDPS",_matchGemLevelToCharacterLevel:!1,_defaultGemLevel:20,_defaultGemQuality:0,_showSupportGemTypes:"ALL",_showAltQualityGems:!1};J(p,"sortGemsByDPS",a=>l.SetSortGemsByDPS(a.toString()==="true")),J(p,"sortGemsByDPSField",a=>l.SetSortGemsByDPSField(a)),J(p,"matchGemLevelToCharacterLevel",a=>l.SetMatchGemLevelToCharacterLevel(a.toString()==="true")),J(p,"defaultGemLevel",a=>l.SetDefaultGemLevel(parseInt(a.toString()))),J(p,"defaultGemQuality",a=>l.SetDefaultGemQuality(parseInt(a.toString()))),J(p,"showSupportGemTypes",a=>l.SetShowSupportGemTypes(a)),J(p,"showAltQualityGems",a=>l.SetShowAltQualityGems(a.toString()==="true"));const se=()=>{l==null||l.AddNewSocketGroup(),tl.set(l)},Ne=()=>{l==null||l.DeleteSocketGroup(w),i(0,w=0),tl.set(l)},A=()=>{l==null||l.DeleteAllSocketGroups(),l==null||l.AddNewSocketGroup(),i(0,w=0),C.set(0),tl.set(l)},x=(a,_)=>j(a,_);function Qe(){w=$l(this),i(0,w)}function me(){p.sortGemsByDPS=this.checked,i(5,p),i(2,l)}function Fe(){p.sortGemsByDPSField=$l(this),i(5,p),i(2,l)}function z(){p.matchGemLevelToCharacterLevel=this.checked,i(5,p),i(2,l)}function Ie(a){t.$$.not_equal(p.defaultGemLevel,a)&&(p.defaultGemLevel=a,i(5,p),i(2,l))}function W(a){t.$$.not_equal(p.defaultGemQuality,a)&&(p.defaultGemQuality=a,i(5,p),i(2,l))}function Ce(){p.showSupportGemTypes=$l(this),i(5,p),i(2,l)}function u(){p.showAltQualityGems=this.checked,i(5,p),i(2,l)}function L(a){M=a,O.set(M)}function ce(){f.Enabled=this.checked,h.set(f)}function ee(){f.IncludeInFullDPS=this.checked,h.set(f)}const ve=a=>V(a);function he(a,_){t.$$.not_equal(_.GemListValue,a)&&(_.GemListValue=a,h.set(f))}function Me(a,_){t.$$.not_equal(_.Level,a)&&(_.Level=a,h.set(f))}function Be(a,_){t.$$.not_equal(_.Quality,a)&&(_.Quality=a,h.set(f))}function We(a,_){a[_].Enabled=this.checked,h.set(f)}function Ue(a,_){t.$$.not_equal(_.Count,a)&&(_.Count=a,h.set(f))}const ke=()=>re();return t.$$.update=()=>{var a,_,le,k,fe,Re,je,ge,Pe,Ye,ne,D,we,P,N;t.$$.dirty[0]&4&&((_=(a=l==null?void 0:l.Skills)==null?void 0:a.SkillSets)==null||_.then(g=>i(3,Y=(g==null?void 0:g.length)||0))),t.$$.dirty[0]&4&&((k=(le=l==null?void 0:l.Skills)==null?void 0:le.ActiveSkillSet)==null||k.then(g=>i(18,G=g))),t.$$.dirty[0]&4&&((Re=(fe=l==null?void 0:l.Build)==null?void 0:fe.MainSocketGroup)==null||Re.then(g=>C.set(g-1))),t.$$.dirty[0]&262149&&((Ye=(Pe=(ge=(je=l==null?void 0:l.Skills)==null?void 0:je.SkillSets)==null?void 0:ge[G-1].Skills)==null?void 0:Pe[w])==null||Ye.Label.then(g=>{Q=!0,O.set(g),Q=!1})),t.$$.dirty[0]&262151&&H.length>0&&new Promise(async()=>{var Se,oe,Oe,ie;const g=(ie=(Oe=(oe=(Se=l==null?void 0:l.Skills)==null?void 0:Se.SkillSets)==null?void 0:oe[G-1])==null?void 0:Oe.Skills)==null?void 0:ie[w];if(!g){h.set(void 0);return}const y=[];if(g.Gems&&await g.Gems){const ye=await g.Gems.length;for(let te=0;te<ye;te++){const R=g.Gems[te],ue=await R.GemID;y.push({GemListValue:H.find(F=>F.value===ue),GemID:ue,Quality:await R.Quality,Enabled:await R.Enabled,EnableGlobal1:await R.EnableGlobal1,EnableGlobal2:await R.EnableGlobal2,QualityID:await R.QualityID,Count:await R.Count,Level:await R.Level,SkillPart:await R.SkillPart,SkillPartCalcs:await R.SkillPartCalcs,NameSpec:await R.NameSpec,SkillID:await R.SkillID,SkillMinionItemSet:await R.SkillMinionItemSet,SkillMinion:await R.SkillMinion})}}T=!0,h.set({Gems:y,Enabled:await g.Enabled,IncludeInFullDPS:await g.IncludeInFullDPS,Slot:await g.Slot}),T=!1}),t.$$.dirty[0]&786436&&((P=(we=(D=(ne=l==null?void 0:l.Skills)==null?void 0:ne.SkillSets)==null?void 0:D[G-1])==null?void 0:we.Skills)==null||P.then(async g=>{var Se,oe,Oe,ie,ye,te,R,ue,F,Ge,ze,Je,qe,Ke,Ze,Ae;const y=[];for(let ae=0;ae<g.length;ae++){let De=await((ie=(Oe=(oe=(Se=l==null?void 0:l.Skills)==null?void 0:Se.SkillSets)==null?void 0:oe[G-1])==null?void 0:Oe.Skills)==null?void 0:ie[ae].Label);if(De===""){const xe=(ue=(R=(te=(ye=l==null?void 0:l.Skills)==null?void 0:ye.SkillSets)==null?void 0:te[G-1])==null?void 0:R.Skills)==null?void 0:ue[ae].Gems;if(await xe)for(let ul=0;ul<await xe.length;ul++){const rl=q[await xe[ul].GemID];!rl||rl.Support||(De!==""&&(De+=", "),De+=rl.Base.Name)}else De="<No active skills>"}y.push({label:De,enabled:await((Je=(ze=(Ge=(F=l==null?void 0:l.Skills)==null?void 0:F.SkillSets)==null?void 0:Ge[G-1])==null?void 0:ze.Skills)==null?void 0:Je[ae].Enabled),fullDPS:await((Ae=(Ze=(Ke=(qe=l==null?void 0:l.Skills)==null?void 0:qe.SkillSets)==null?void 0:Ke[G-1])==null?void 0:Ze.Skills)==null?void 0:Ae[ae].IncludeInFullDPS)})}i(4,de=y)})),t.$$.dirty[0]&4&&((N=l==null?void 0:l.Skills)==null||N.then(g=>{i(5,p._sortGemsByDPS=g.SortGemsByDPS,p),i(5,p._sortGemsByDPSField=g.SortGemsByDPSField,p),i(5,p._matchGemLevelToCharacterLevel=g.MatchGemLevelToCharacterLevel,p),i(5,p._defaultGemLevel=g.DefaultGemLevel,p),i(5,p._defaultGemQuality=g.DefaultGemQuality,p),i(5,p._showSupportGemTypes=g.ShowSupportGemTypes,p),i(5,p._showAltQualityGems=g.ShowAltQualityGems,p)}))},[w,H,l,Y,de,p,f,I,M,C,O,j,h,V,re,se,Ne,A,G,q,x,Qe,me,Fe,z,Ie,W,Ce,u,L,ce,ee,ve,he,Me,Be,We,Ue,ke]}class va extends Jt{constructor(c){super(),Kt(this,c,ia,oa,Zt,{},null,[-1,-1])}}export{va as default};
