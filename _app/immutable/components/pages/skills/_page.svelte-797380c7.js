import{S as Ql,i as xl,s as ql,e as Vl,b as re,f as ae,t as de,d as Yt,h as l,D as wt,o as Bl,l as a,r as _,a as h,w as Je,m as n,n as r,u as m,c as S,x as Ke,p as d,_ as Hl,C as e,a7 as Ll,y as Ze,E as tt,g as Wt,F as Ul,z as et,v as Cl,O as bt,T as kt,U as Et,N as Rl,a8 as Gt,a9 as Xl}from"../../../chunks/index-01750e21.js";import{N as gt,a as St,c as Nt}from"../../../chunks/colors-a54dc437.js";import{I as zl}from"../../../chunks/Input-5725bf41.js";import{w as zt}from"../../../chunks/index-c9f83d02.js";import{s as Vt}from"../../../chunks/worker-068970f9.js";import{S as Yl,a as Wl,b as jl}from"../../../chunks/SelectSelection-0a6bf987.js";let Tt;const Jl=async()=>{if(!Vt)return[];if(Tt!==void 0)return Tt;const t=await Vt.GetSkillGems(),c=await t.length,p=[];for(let s=0;s<c;s++)p.push(new Promise(async o=>{const v=t[s];o({Vaal:await v.Vaal,Base:await v.Base,GemType:await v.GemType,ID:await v.ID,MaxLevel:await v.MaxLevel})}));return Tt=await Promise.all(p),Tt};function yl(t,c,p){const s=t.slice();return s[30]=c[p],s[31]=c,s[32]=p,s}function Ol(t,c,p){const s=t.slice();return s[33]=c[p],s[32]=p,s}function $l(t){let c,p,s,o,v,A,x,E,N,b,w,O,X,B,z,U,g,W,$,ne,C,se,oe,K,j,he,D,ue,Se,R,be,M,u,f,Z,i,k,T,Y,ie,ce,Ne,Be,ve,_e,He,Xe,P,me,ke,ze,fe,Te,lt,ye,ee,te,y,Ge,I,G,J,V,Ve,Ee,at,ge,Oe,De,$e,Ie,Q,nt,Ae,st,it,Le,Me,ot,Fe,Ye,Lt,We,Ct,dt,yt,Ot,je,$t,vt,At,Mt,rt,ut,Ue,Re,Ft,Qe,Ut,xe,Rt,Qt,_t,xt,qt,ct,mt,Bt,ht,Ht,jt,ft=t[4],le=[];for(let L=0;L<ft.length;L+=1)le[L]=Al(Ol(t,ft,L));We=new gt({props:{min:1,max:21}}),je=new gt({props:{min:1,max:21}});let H=t[5]&&Ml(t);return{c(){c=a("div"),p=a("div"),s=a("div"),o=a("div"),v=a("span"),A=_("Skill set:"),x=h(),E=a("div"),N=a("select"),b=a("option"),w=_("Default"),X=h(),B=a("button"),z=_("Manage..."),U=h(),g=a("div"),W=a("span"),$=_("Socket Groups:"),ne=h(),C=a("button"),se=_("New"),oe=h(),K=a("button"),j=_("Delete All"),he=h(),D=a("button"),ue=_("Delete"),Se=h(),R=a("select");for(let L=0;L<le.length;L+=1)le[L].c();be=h(),M=a("p"),u=_("Usage Tips:"),f=a("br"),Z=_(`
          - You can copy/paste socket groups using Ctrl+C and Ctrl+V.`),i=a("br"),k=_(`
          - Ctrl + Click to enable/disable socket groups.`),T=a("br"),Y=_(`
          - Ctrl + Right click to include/exclude in FullDPS calculations.`),ie=a("br"),ce=_(`
          - Right click to set as the Main skill group.`),Ne=a("br"),Be=h(),ve=a("fieldset"),_e=a("legend"),He=_("Gem Options"),Xe=h(),P=a("div"),me=a("span"),ke=_("Sort gems by DPS:"),ze=h(),fe=a("div"),Te=a("input"),lt=h(),ye=a("div"),ee=a("select"),te=a("option"),y=_("Full DPS"),Ge=a("option"),I=_("Combined DPS"),G=a("option"),J=_("Total DPS"),V=a("option"),Ve=_("Average Hit"),Ee=a("option"),at=_("DoT DPS"),ge=a("option"),Oe=_("Bleed DPS"),De=a("option"),$e=_("Ignite DPS"),Ie=a("option"),Q=_("Poison DPS"),nt=h(),Ae=a("span"),st=_("Match gems character level:"),it=h(),Le=a("div"),Me=a("input"),ot=h(),Fe=a("span"),Ye=_("Default gem level:"),Lt=h(),Je(We.$$.fragment),Ct=h(),dt=a("span"),yt=_("Default gem quality:"),Ot=h(),Je(je.$$.fragment),$t=h(),vt=a("span"),At=_("Show support gems:"),Mt=h(),rt=a("div"),ut=a("div"),Ue=a("select"),Re=a("option"),Ft=_("All"),Qe=a("option"),Ut=_("Non-Awakened"),xe=a("option"),Rt=_("Awakened"),Qt=h(),_t=a("span"),xt=_("Show gem quality variants:"),qt=h(),ct=a("div"),mt=a("input"),Bt=h(),H&&H.c(),this.h()},l(L){c=n(L,"DIV",{class:!0});var Pe=r(c);p=n(Pe,"DIV",{class:!0});var q=r(p);s=n(q,"DIV",{class:!0});var pe=r(s);o=n(pe,"DIV",{class:!0});var pt=r(o);v=n(pt,"SPAN",{});var Jt=r(v);A=m(Jt,"Skill set:"),Jt.forEach(l),x=S(pt),E=n(pt,"DIV",{class:!0});var Kt=r(E);N=n(Kt,"SELECT",{class:!0});var Zt=r(N);b=n(Zt,"OPTION",{});var el=r(b);w=m(el,"Default"),el.forEach(l),Zt.forEach(l),Kt.forEach(l),X=S(pt),B=n(pt,"BUTTON",{class:!0});var tl=r(B);z=m(tl,"Manage..."),tl.forEach(l),pt.forEach(l),U=S(pe),g=n(pe,"DIV",{class:!0});var qe=r(g);W=n(qe,"SPAN",{class:!0});var ll=r(W);$=m(ll,"Socket Groups:"),ll.forEach(l),ne=S(qe),C=n(qe,"BUTTON",{class:!0});var al=r(C);se=m(al,"New"),al.forEach(l),oe=S(qe),K=n(qe,"BUTTON",{class:!0});var nl=r(K);j=m(nl,"Delete All"),nl.forEach(l),he=S(qe),D=n(qe,"BUTTON",{class:!0});var sl=r(D);ue=m(sl,"Delete"),sl.forEach(l),qe.forEach(l),Se=S(pe),R=n(pe,"SELECT",{class:!0,size:!0});var il=r(R);for(let Xt=0;Xt<le.length;Xt+=1)le[Xt].l(il);il.forEach(l),be=S(pe),M=n(pe,"P",{class:!0});var we=r(M);u=m(we,"Usage Tips:"),f=n(we,"BR",{}),Z=m(we,`
          - You can copy/paste socket groups using Ctrl+C and Ctrl+V.`),i=n(we,"BR",{}),k=m(we,`
          - Ctrl + Click to enable/disable socket groups.`),T=n(we,"BR",{}),Y=m(we,`
          - Ctrl + Right click to include/exclude in FullDPS calculations.`),ie=n(we,"BR",{}),ce=m(we,`
          - Right click to set as the Main skill group.`),Ne=n(we,"BR",{}),we.forEach(l),Be=S(pe),ve=n(pe,"FIELDSET",{class:!0});var Dt=r(ve);_e=n(Dt,"LEGEND",{class:!0});var ol=r(_e);He=m(ol,"Gem Options"),ol.forEach(l),Xe=S(Dt),P=n(Dt,"DIV",{class:!0});var F=r(P);me=n(F,"SPAN",{});var rl=r(me);ke=m(rl,"Sort gems by DPS:"),rl.forEach(l),ze=S(F),fe=n(F,"DIV",{class:!0});var It=r(fe);Te=n(It,"INPUT",{type:!0,class:!0}),lt=S(It),ye=n(It,"DIV",{class:!0});var ul=r(ye);ee=n(ul,"SELECT",{class:!0});var Ce=r(ee);te=n(Ce,"OPTION",{});var cl=r(te);y=m(cl,"Full DPS"),cl.forEach(l),Ge=n(Ce,"OPTION",{});var fl=r(Ge);I=m(fl,"Combined DPS"),fl.forEach(l),G=n(Ce,"OPTION",{});var pl=r(G);J=m(pl,"Total DPS"),pl.forEach(l),V=n(Ce,"OPTION",{});var dl=r(V);Ve=m(dl,"Average Hit"),dl.forEach(l),Ee=n(Ce,"OPTION",{});var vl=r(Ee);at=m(vl,"DoT DPS"),vl.forEach(l),ge=n(Ce,"OPTION",{});var _l=r(ge);Oe=m(_l,"Bleed DPS"),_l.forEach(l),De=n(Ce,"OPTION",{});var ml=r(De);$e=m(ml,"Ignite DPS"),ml.forEach(l),Ie=n(Ce,"OPTION",{});var hl=r(Ie);Q=m(hl,"Poison DPS"),hl.forEach(l),Ce.forEach(l),ul.forEach(l),It.forEach(l),nt=S(F),Ae=n(F,"SPAN",{});var Sl=r(Ae);st=m(Sl,"Match gems character level:"),Sl.forEach(l),it=S(F),Le=n(F,"DIV",{class:!0});var bl=r(Le);Me=n(bl,"INPUT",{type:!0,class:!0}),bl.forEach(l),ot=S(F),Fe=n(F,"SPAN",{});var kl=r(Fe);Ye=m(kl,"Default gem level:"),kl.forEach(l),Lt=S(F),Ke(We.$$.fragment,F),Ct=S(F),dt=n(F,"SPAN",{});var El=r(dt);yt=m(El,"Default gem quality:"),El.forEach(l),Ot=S(F),Ke(je.$$.fragment,F),$t=S(F),vt=n(F,"SPAN",{});var gl=r(vt);At=m(gl,"Show support gems:"),gl.forEach(l),Mt=S(F),rt=n(F,"DIV",{class:!0});var Dl=r(rt);ut=n(Dl,"DIV",{class:!0});var Il=r(ut);Ue=n(Il,"SELECT",{class:!0});var Pt=r(Ue);Re=n(Pt,"OPTION",{});var Pl=r(Re);Ft=m(Pl,"All"),Pl.forEach(l),Qe=n(Pt,"OPTION",{});var wl=r(Qe);Ut=m(wl,"Non-Awakened"),wl.forEach(l),xe=n(Pt,"OPTION",{});var Gl=r(xe);Rt=m(Gl,"Awakened"),Gl.forEach(l),Pt.forEach(l),Il.forEach(l),Dl.forEach(l),Qt=S(F),_t=n(F,"SPAN",{});var Nl=r(_t);xt=m(Nl,"Show gem quality variants:"),Nl.forEach(l),qt=S(F),ct=n(F,"DIV",{class:!0});var Tl=r(ct);mt=n(Tl,"INPUT",{type:!0,class:!0}),Tl.forEach(l),F.forEach(l),Dt.forEach(l),pe.forEach(l),Bt=S(q),H&&H.l(q),q.forEach(l),Pe.forEach(l),this.h()},h(){b.__value="Default",b.value=b.__value,d(N,"class","input"),N.disabled=O=t[3]===1,d(E,"class","container select-wrapper flex-1"),d(B,"class","container"),d(o,"class","flex flex-row items-center gap-2"),d(W,"class","flex-1"),d(C,"class","container"),d(K,"class","container"),d(D,"class","container"),D.disabled=!0,d(g,"class","flex flex-row items-center gap-2"),d(R,"class","bg-black border w-full border-neutral-400 flex-1 select-many max-h-[300px]"),d(R,"size","18"),t[0]===void 0&&Hl(()=>t[16].call(R)),d(M,"class","text-sm"),d(_e,"class","container"),d(Te,"type","checkbox"),d(Te,"class","text-2xl"),te.__value="Full DPS",te.value=te.__value,Ge.__value="Combined DPS",Ge.value=Ge.__value,G.__value="Total DPS",G.value=G.__value,V.__value="Average Hit",V.value=V.__value,Ee.__value="DoT DPS",Ee.value=Ee.__value,ge.__value="Bleed DPS",ge.value=ge.__value,De.__value="Ignite DPS",De.value=De.__value,Ie.__value="Poison DPS",Ie.value=Ie.__value,d(ee,"class","input"),d(ye,"class","container select-wrapper"),d(fe,"class","flex flex-row gap-2"),d(Me,"type","checkbox"),d(Me,"class","text-2xl"),d(Le,"class","flex flex-row gap-2"),Re.__value="All",Re.value=Re.__value,Qe.__value="Non-Awakened",Qe.value=Qe.__value,xe.__value="Awakened",xe.value=xe.__value,d(Ue,"class","input"),d(ut,"class","container select-wrapper"),d(rt,"class","flex flex-row gap-2"),d(mt,"type","checkbox"),d(mt,"class","text-2xl"),d(ct,"class","flex flex-row gap-2"),d(P,"class","side-by-side-max-content"),d(ve,"class","border border-white bg-neutral-900 p-2"),d(s,"class","flex flex-col w-[450px] gap-2"),d(p,"class","flex flex-row gap-4 flex-wrap"),d(c,"class","p-2 px-4")},m(L,Pe){re(L,c,Pe),e(c,p),e(p,s),e(s,o),e(o,v),e(v,A),e(o,x),e(o,E),e(E,N),e(N,b),e(b,w),e(o,X),e(o,B),e(B,z),e(s,U),e(s,g),e(g,W),e(W,$),e(g,ne),e(g,C),e(C,se),e(g,oe),e(g,K),e(K,j),e(g,he),e(g,D),e(D,ue),e(s,Se),e(s,R);for(let q=0;q<le.length;q+=1)le[q].m(R,null);Ll(R,t[0]),e(s,be),e(s,M),e(M,u),e(M,f),e(M,Z),e(M,i),e(M,k),e(M,T),e(M,Y),e(M,ie),e(M,ce),e(M,Ne),e(s,Be),e(s,ve),e(ve,_e),e(_e,He),e(ve,Xe),e(ve,P),e(P,me),e(me,ke),e(P,ze),e(P,fe),e(fe,Te),e(fe,lt),e(fe,ye),e(ye,ee),e(ee,te),e(te,y),e(ee,Ge),e(Ge,I),e(ee,G),e(G,J),e(ee,V),e(V,Ve),e(ee,Ee),e(Ee,at),e(ee,ge),e(ge,Oe),e(ee,De),e(De,$e),e(ee,Ie),e(Ie,Q),e(P,nt),e(P,Ae),e(Ae,st),e(P,it),e(P,Le),e(Le,Me),e(P,ot),e(P,Fe),e(Fe,Ye),e(P,Lt),Ze(We,P,null),e(P,Ct),e(P,dt),e(dt,yt),e(P,Ot),Ze(je,P,null),e(P,$t),e(P,vt),e(vt,At),e(P,Mt),e(P,rt),e(rt,ut),e(ut,Ue),e(Ue,Re),e(Re,Ft),e(Ue,Qe),e(Qe,Ut),e(Ue,xe),e(xe,Rt),e(P,Qt),e(P,_t),e(_t,xt),e(P,qt),e(P,ct),e(ct,mt),e(p,Bt),H&&H.m(p,null),ht=!0,Ht||(jt=tt(R,"change",t[16]),Ht=!0)},p(L,Pe){if((!ht||Pe[0]&8&&O!==(O=L[3]===1))&&(N.disabled=O),Pe[0]&1104){ft=L[4];let q;for(q=0;q<ft.length;q+=1){const pe=Ol(L,ft,q);le[q]?le[q].p(pe,Pe):(le[q]=Al(pe),le[q].c(),le[q].m(R,null))}for(;q<le.length;q+=1)le[q].d(1);le.length=ft.length}Pe[0]&1&&Ll(R,L[0]),L[5]?H?(H.p(L,Pe),Pe[0]&32&&ae(H,1)):(H=Ml(L),H.c(),ae(H,1),H.m(p,null)):H&&(Wt(),de(H,1,1,()=>{H=null}),Yt())},i(L){ht||(ae(We.$$.fragment,L),ae(je.$$.fragment,L),ae(H),ht=!0)},o(L){de(We.$$.fragment,L),de(je.$$.fragment,L),de(H),ht=!1},d(L){L&&l(c),Ul(le,L),et(We),et(je),H&&H.d(),Ht=!1,jt()}}}function Al(t){let c,p=t[33]+"",s,o=t[6]===t[32]?" (Active)":"",v,A,x,E;function N(...b){return t[15](t[32],...b)}return{c(){c=a("option"),s=_(p),v=_(o),A=h(),this.h()},l(b){c=n(b,"OPTION",{});var w=r(c);s=m(w,p),v=m(w,o),A=S(w),w.forEach(l),this.h()},h(){c.__value=t[32],c.value=c.__value},m(b,w){re(b,c,w),e(c,s),e(c,v),e(c,A),x||(E=tt(c,"contextmenu",N),x=!0)},p(b,w){t=b,w[0]&16&&p!==(p=t[33]+"")&&Cl(s,p),w[0]&64&&o!==(o=t[6]===t[32]?" (Active)":"")&&Cl(v,o)},d(b){b&&l(c),x=!1,E()}}}function Ml(t){let c,p,s,o,v,A,x,E,N,b,w,O,X,B,z,U,g,W,$,ne,C,se,oe,K,j,he,D,ue,Se,R,be,M,u,f,Z,i,k,T,Y,ie,ce,Ne,Be,ve,_e,He,Xe,P,me,ke,ze,fe,Te,lt;function ye(I){t[17](I)}let ee={prefix:"Label:",fullWidth:!0};t[7]!==void 0&&(ee.value=t[7]),p=new zl({props:ee}),bt.push(()=>kt(p,"value",ye));let te=t[5].Gems,y=[];for(let I=0;I<te.length;I+=1)y[I]=Fl(yl(t,te,I));const Ge=I=>de(y[I],1,1,()=>{y[I]=null});return{c(){c=a("div"),Je(p.$$.fragment),o=h(),v=a("div"),A=a("div"),x=a("span"),E=_("Socketed in:"),N=h(),b=a("div"),w=a("select"),O=a("option"),X=_("None"),B=h(),z=a("div"),U=a("span"),g=_("Enabled:"),W=h(),$=a("input"),ne=h(),C=a("div"),se=a("span"),oe=_("Include in Full DPS:"),K=h(),j=a("input"),he=h(),D=a("div"),ue=a("div"),Se=h(),R=a("div"),be=_("Gem Name"),M=h(),u=a("div"),f=_("Level"),Z=h(),i=a("div"),k=_("Variant"),T=h(),Y=a("div"),ie=_("Quality"),ce=h(),Ne=a("div"),Be=_("Enabled"),ve=h(),_e=a("div"),He=_("Count"),Xe=h();for(let I=0;I<y.length;I+=1)y[I].c();P=h(),me=a("div"),ke=a("button"),ze=_("Add Skill Gem"),this.h()},l(I){c=n(I,"DIV",{class:!0});var G=r(c);Ke(p.$$.fragment,G),o=S(G),v=n(G,"DIV",{class:!0});var J=r(v);A=n(J,"DIV",{class:!0});var V=r(A);x=n(V,"SPAN",{});var Ve=r(x);E=m(Ve,"Socketed in:"),Ve.forEach(l),N=S(V),b=n(V,"DIV",{class:!0});var Ee=r(b);w=n(Ee,"SELECT",{class:!0});var at=r(w);O=n(at,"OPTION",{});var ge=r(O);X=m(ge,"None"),ge.forEach(l),at.forEach(l),Ee.forEach(l),V.forEach(l),B=S(J),z=n(J,"DIV",{class:!0});var Oe=r(z);U=n(Oe,"SPAN",{});var De=r(U);g=m(De,"Enabled:"),De.forEach(l),W=S(Oe),$=n(Oe,"INPUT",{type:!0,class:!0}),Oe.forEach(l),ne=S(J),C=n(J,"DIV",{class:!0});var $e=r(C);se=n($e,"SPAN",{});var Ie=r(se);oe=m(Ie,"Include in Full DPS:"),Ie.forEach(l),K=S($e),j=n($e,"INPUT",{type:!0,class:!0}),$e.forEach(l),J.forEach(l),he=S(G),D=n(G,"DIV",{class:!0});var Q=r(D);ue=n(Q,"DIV",{}),r(ue).forEach(l),Se=S(Q),R=n(Q,"DIV",{});var nt=r(R);be=m(nt,"Gem Name"),nt.forEach(l),M=S(Q),u=n(Q,"DIV",{});var Ae=r(u);f=m(Ae,"Level"),Ae.forEach(l),Z=S(Q),i=n(Q,"DIV",{});var st=r(i);k=m(st,"Variant"),st.forEach(l),T=S(Q),Y=n(Q,"DIV",{});var it=r(Y);ie=m(it,"Quality"),it.forEach(l),ce=S(Q),Ne=n(Q,"DIV",{});var Le=r(Ne);Be=m(Le,"Enabled"),Le.forEach(l),ve=S(Q),_e=n(Q,"DIV",{});var Me=r(_e);He=m(Me,"Count"),Me.forEach(l),Xe=S(Q);for(let Ye=0;Ye<y.length;Ye+=1)y[Ye].l(Q);P=S(Q),me=n(Q,"DIV",{class:!0});var ot=r(me);ke=n(ot,"BUTTON",{class:!0});var Fe=r(ke);ze=m(Fe,"Add Skill Gem"),Fe.forEach(l),ot.forEach(l),Q.forEach(l),G.forEach(l),this.h()},h(){O.__value="None",O.value=O.__value,d(w,"class","input"),d(b,"class","container select-wrapper"),d(A,"class","flex flex-row items-center gap-2"),d($,"type","checkbox"),d($,"class","text-2xl"),d(z,"class","flex flex-row items-center gap-2"),d(j,"type","checkbox"),d(j,"class","text-2xl"),d(C,"class","flex flex-row items-center gap-2"),d(v,"class","flex flex-row w-full justify-between"),d(ke,"class","container font-bold min-w-full"),d(me,"class","col-span-7 w-full mt-2"),d(D,"class","grid gem-grid gap-1 w-full svelte-1ehf173"),d(c,"class","flex flex-col min-w-[500px] gap-2")},m(I,G){re(I,c,G),Ze(p,c,null),e(c,o),e(c,v),e(v,A),e(A,x),e(x,E),e(A,N),e(A,b),e(b,w),e(w,O),e(O,X),e(v,B),e(v,z),e(z,U),e(U,g),e(z,W),e(z,$),$.checked=t[5].Enabled,e(v,ne),e(v,C),e(C,se),e(se,oe),e(C,K),e(C,j),j.checked=t[5].IncludeInFullDPS,e(c,he),e(c,D),e(D,ue),e(D,Se),e(D,R),e(R,be),e(D,M),e(D,u),e(u,f),e(D,Z),e(D,i),e(i,k),e(D,T),e(D,Y),e(Y,ie),e(D,ce),e(D,Ne),e(Ne,Be),e(D,ve),e(D,_e),e(_e,He),e(D,Xe);for(let J=0;J<y.length;J+=1)y[J].m(D,null);e(D,P),e(D,me),e(me,ke),e(ke,ze),fe=!0,Te||(lt=[tt($,"change",t[18]),tt(j,"change",t[19]),tt(ke,"click",t[26])],Te=!0)},p(I,G){const J={};if(!s&&G[0]&128&&(s=!0,J.value=I[7],Et(()=>s=!1)),p.$set(J),G[0]&32&&($.checked=I[5].Enabled),G[0]&32&&(j.checked=I[5].IncludeInFullDPS),G[0]&4130){te=I[5].Gems;let V;for(V=0;V<te.length;V+=1){const Ve=yl(I,te,V);y[V]?(y[V].p(Ve,G),ae(y[V],1)):(y[V]=Fl(Ve),y[V].c(),ae(y[V],1),y[V].m(D,P))}for(Wt(),V=te.length;V<y.length;V+=1)Ge(V);Yt()}},i(I){if(!fe){ae(p.$$.fragment,I);for(let G=0;G<te.length;G+=1)ae(y[G]);fe=!0}},o(I){de(p.$$.fragment,I),y=y.filter(Boolean);for(let G=0;G<y.length;G+=1)de(y[G]);fe=!1},d(I){I&&l(c),et(p),Ul(y,I),Te=!1,Rl(lt)}}}function Fl(t){let c,p,s,o,v,A,x,E,N,b,w,O,X,B,z,U,g,W,$,ne,C,se,oe,K,j;function he(){return t[20](t[32])}function D(i){t[21](i,t[30])}let ue={items:t[1],isClearable:!1,placeholder:"",showIndicator:!0,Item:Yl,Selection:Wl,listOffset:0};t[30].GemListValue!==void 0&&(ue.value=t[30].GemListValue),v=new jl({props:ue}),bt.push(()=>kt(v,"value",D));function Se(i){t[22](i,t[30])}let R={min:1,max:t[30].GemListValue.data.MaxLevel};t[30].Level!==void 0&&(R.value=t[30].Level),E=new gt({props:R}),bt.push(()=>kt(E,"value",Se));function be(i){t[23](i,t[30])}let M={min:0,max:21};t[30].Quality!==void 0&&(M.value=t[30].Quality),U=new gt({props:M}),bt.push(()=>kt(U,"value",be));function u(){t[24].call($,t[31],t[32])}function f(i){t[25](i,t[30])}let Z={min:1,max:99};return t[30].Count!==void 0&&(Z.value=t[30].Count),C=new gt({props:Z}),bt.push(()=>kt(C,"value",f)),{c(){c=a("button"),p=_("X"),s=h(),o=a("div"),Je(v.$$.fragment),x=h(),Je(E.$$.fragment),b=h(),w=a("div"),O=a("select"),X=a("option"),B=_("Default"),z=h(),Je(U.$$.fragment),W=h(),$=a("input"),ne=h(),Je(C.$$.fragment),this.h()},l(i){c=n(i,"BUTTON",{class:!0});var k=r(c);p=m(k,"X"),k.forEach(l),s=S(i),o=n(i,"DIV",{class:!0});var T=r(o);Ke(v.$$.fragment,T),T.forEach(l),x=S(i),Ke(E.$$.fragment,i),b=S(i),w=n(i,"DIV",{class:!0});var Y=r(w);O=n(Y,"SELECT",{class:!0});var ie=r(O);X=n(ie,"OPTION",{});var ce=r(X);B=m(ce,"Default"),ce.forEach(l),ie.forEach(l),Y.forEach(l),z=S(i),Ke(U.$$.fragment,i),W=S(i),$=n(i,"INPUT",{type:!0,class:!0}),ne=S(i),Ke(C.$$.fragment,i),this.h()},h(){d(c,"class","container font-bold"),d(o,"class","min-w-full themed"),X.__value="Default",X.value=X.__value,d(O,"class","input"),d(w,"class","container select-wrapper"),d($,"type","checkbox"),d($,"class","text-2xl")},m(i,k){re(i,c,k),e(c,p),re(i,s,k),re(i,o,k),Ze(v,o,null),re(i,x,k),Ze(E,i,k),re(i,b,k),re(i,w,k),e(w,O),e(O,X),e(X,B),re(i,z,k),Ze(U,i,k),re(i,W,k),re(i,$,k),$.checked=t[30].Enabled,re(i,ne,k),Ze(C,i,k),oe=!0,K||(j=[tt(c,"click",he),tt($,"change",u)],K=!0)},p(i,k){t=i;const T={};k[0]&2&&(T.items=t[1]),!A&&k[0]&32&&(A=!0,T.value=t[30].GemListValue,Et(()=>A=!1)),v.$set(T);const Y={};k[0]&32&&(Y.max=t[30].GemListValue.data.MaxLevel),!N&&k[0]&32&&(N=!0,Y.value=t[30].Level,Et(()=>N=!1)),E.$set(Y);const ie={};!g&&k[0]&32&&(g=!0,ie.value=t[30].Quality,Et(()=>g=!1)),U.$set(ie),k[0]&32&&($.checked=t[30].Enabled);const ce={};!se&&k[0]&32&&(se=!0,ce.value=t[30].Count,Et(()=>se=!1)),C.$set(ce)},i(i){oe||(ae(v.$$.fragment,i),ae(E.$$.fragment,i),ae(U.$$.fragment,i),ae(C.$$.fragment,i),oe=!0)},o(i){de(v.$$.fragment,i),de(E.$$.fragment,i),de(U.$$.fragment,i),de(C.$$.fragment,i),oe=!1},d(i){i&&l(c),i&&l(s),i&&l(o),et(v),i&&l(x),et(E,i),i&&l(b),i&&l(w),i&&l(z),et(U,i),i&&l(W),i&&l($),i&&l(ne),et(C,i),K=!1,Rl(j)}}}function Kl(t){let c,p,s=t[2]&&$l(t);return{c(){s&&s.c(),c=Vl()},l(o){s&&s.l(o),c=Vl()},m(o,v){s&&s.m(o,v),re(o,c,v),p=!0},p(o,v){o[2]?s?(s.p(o,v),v[0]&4&&ae(s,1)):(s=$l(o),s.c(),ae(s,1),s.m(c.parentNode,c)):s&&(Wt(),de(s,1,1,()=>{s=null}),Yt())},i(o){p||(ae(s),p=!0)},o(o){de(s),p=!1},d(o){s&&s.d(o),o&&l(c)}}}function Zl(t,c,p){let s,o,v,A;wt(t,St,u=>p(2,o=u));let x=1,E=1,N=0;const b=zt(-1);wt(t,b,u=>p(6,v=u)),b.subscribe(u=>{u>=0&&Vt.SetMainSocketGroup(u+1)});let w=!0;const O=zt("");wt(t,O,u=>p(7,A=u)),O.subscribe(u=>{w||!o||Gt(St,o.Skills.SkillSets[E-1].Skills[N].Label=u,o)});const X=(u,f)=>{f.preventDefault(),f.stopPropagation(),b.set(u)};let B=[];const z={STR:Nt.STRENGTH,DEX:Nt.DEXTERITY,INT:Nt.INTELLIGENCE,NONE:Nt.NORMAL};Bl(()=>{Jl().then(u=>{p(1,B=u.map(f=>({label:"^"+z[f.GemType]+f.Base.Name,value:f.ID,data:f})))})});let U=!0;const g=zt();wt(t,g,u=>p(5,s=u)),g.subscribe(async u=>{U||(Gt(St,o.Skills.SkillSets[E-1].Skills[N].Slot=u.Slot,o),Gt(St,o.Skills.SkillSets[E-1].Skills[N].Enabled=u.Enabled,o),Gt(St,o.Skills.SkillSets[E-1].Skills[N].IncludeInFullDPS=u.IncludeInFullDPS,o),u.Gems&&await o.SetSocketGroupGems(E-1,N,u.Gems.map(f=>({...f,GemID:f.GemListValue.value}))),Vt.Tick())});let W=[];const $=u=>{s.Gems.splice(u,1),g.set(s)},ne=()=>{const u=B[0];s.Gems.push({GemListValue:u,Quality:0,SkillPart:1,EnableGlobal2:!0,SkillPartCalcs:1,QualityID:"Default",GemID:"Metadata/Items/Gems/SkillGemFireball",Enabled:!0,Count:1,EnableGlobal1:!0,NameSpec:u.value,Level:1,SkillID:u.value,SkillMinionItemSet:1,SkillMinion:"SummonedPhantasm"}),g.set(s)},C=(u,f)=>X(u,f);function se(){N=Xl(this),p(0,N)}function oe(u){A=u,O.set(A)}function K(){s.Enabled=this.checked,g.set(s)}function j(){s.IncludeInFullDPS=this.checked,g.set(s)}const he=u=>$(u);function D(u,f){t.$$.not_equal(f.GemListValue,u)&&(f.GemListValue=u,g.set(s))}function ue(u,f){t.$$.not_equal(f.Level,u)&&(f.Level=u,g.set(s))}function Se(u,f){t.$$.not_equal(f.Quality,u)&&(f.Quality=u,g.set(s))}function R(u,f){u[f].Enabled=this.checked,g.set(s)}function be(u,f){t.$$.not_equal(f.Count,u)&&(f.Count=u,g.set(s))}const M=()=>ne();return t.$$.update=()=>{var u;t.$$.dirty[0]&4&&(o==null||o.Skills.SkillSets.then(f=>p(3,x=f.length))),t.$$.dirty[0]&4&&(o==null||o.Skills.ActiveSkillSet.then(f=>p(14,E=f))),t.$$.dirty[0]&4&&(o==null||o.Build.MainSocketGroup.then(f=>b.set(f-1))),t.$$.dirty[0]&16389&&((u=o==null?void 0:o.Skills.SkillSets[E-1].Skills[N])==null||u.Label.then(f=>{w=!0,O.set(f),w=!1})),t.$$.dirty[0]&16391&&B.length>0&&new Promise(async()=>{const f=o==null?void 0:o.Skills.SkillSets[E-1].Skills[N];if(!f){g.set(void 0);return}const Z=[];if(f.Gems&&await f.Gems){const i=await f.Gems.length;for(let k=0;k<i;k++){const T=f.Gems[k],Y=await T.GemID;Z.push({GemListValue:B.find(ie=>ie.value===Y),GemID:Y,Quality:await T.Quality,Enabled:await T.Enabled,EnableGlobal1:await T.EnableGlobal1,EnableGlobal2:await T.EnableGlobal2,QualityID:await T.QualityID,Count:await T.Count,Level:await T.Level,SkillPart:await T.SkillPart,SkillPartCalcs:await T.SkillPartCalcs,NameSpec:await T.NameSpec,SkillID:await T.SkillID,SkillMinionItemSet:await T.SkillMinionItemSet,SkillMinion:await T.SkillMinion})}}U=!0,g.set({Gems:Z,Enabled:await f.Enabled,IncludeInFullDPS:await f.IncludeInFullDPS,Slot:await f.Slot}),U=!1}),t.$$.dirty[0]&16388&&(o==null||o.Skills.SkillSets[E-1].Skills.then(async f=>{const Z=[];for(let i=0;i<f.length;i++)Z.push(await o.Skills.SkillSets[E-1].Skills[i].Label);p(4,W=Z)}))},[N,B,o,x,W,s,v,A,b,O,X,g,$,ne,E,C,se,oe,K,j,he,D,ue,Se,R,be,M]}class ia extends Ql{constructor(c){super(),xl(this,c,Zl,Kl,ql,{},null,[-1,-1])}}export{ia as default};
