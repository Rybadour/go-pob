import{S as B,i as K,s as O,k as E,l as S,m as D,h as g,n as _,b as w,A as P,H as q,o as U,aa as X,R as y,p as J,E as Q,t as R,d as W,f as I,$ as Y,v as Z,w as N,x,a0 as $,y as ee,g as te}from"../../../chunks/index-561d0633.js";const ne=["Activate","AddUndo","BeforeAddUndo","BeforeExecCommand","BeforeGetContent","BeforeRenderUI","BeforeSetContent","BeforePaste","Blur","Change","ClearUndos","Click","ContextMenu","Copy","Cut","Dblclick","Deactivate","Dirty","Drag","DragDrop","DragEnd","DragGesture","DragOver","Drop","ExecCommand","Focus","FocusIn","FocusOut","GetContent","Hide","Init","KeyDown","KeyPress","KeyUp","LoadContent","MouseDown","MouseEnter","MouseLeave","MouseMove","MouseOut","MouseOver","MouseUp","NodeChange","ObjectResizeStart","ObjectResized","ObjectSelected","Paste","PostProcess","PostRender","PreProcess","ProgressState","Redo","Remove","Reset","ResizeEditor","SaveContent","SelectionChange","SetAttrib","SetContent","Show","Submit","Undo","VisualAid"],ie=(i,e)=>{ne.forEach(t=>{i.on(t,o=>{e(t.toLowerCase(),{eventName:t,event:o,editor:i})})})};function se(i){let e;return{c(){e=E("textarea"),this.h()},l(t){e=S(t,"TEXTAREA",{id:!0,style:!0}),D(e).forEach(g),this.h()},h(){_(e,"id",i[0]),J(e,"visibility","hidden")},m(t,o){w(t,e,o),i[18](e)},p(t,o){o&1&&_(e,"id",t[0])},d(t){t&&g(e),i[18](null)}}}function oe(i){let e;return{c(){e=E("div"),this.h()},l(t){e=S(t,"DIV",{id:!0}),D(e).forEach(g),this.h()},h(){_(e,"id",i[0])},m(t,o){w(t,e,o),i[17](e)},p(t,o){o&1&&_(e,"id",t[0])},d(t){t&&g(e),i[17](null)}}}function le(i){let e;function t(l,n){return l[1]?oe:se}let o=t(i),c=o(i);return{c(){e=E("div"),c.c(),this.h()},l(l){e=S(l,"DIV",{class:!0});var n=D(e);c.l(n),n.forEach(g),this.h()},h(){_(e,"class",i[2])},m(l,n){w(l,e,n),c.m(e,null),i[19](e)},p(l,[n]){o===(o=t(l))&&c?c.p(l,n):(c.d(1),c=o(l),c&&(c.c(),c.m(e,null))),n&4&&_(e,"class",l[2])},i:P,o:P,d(l){l&&g(e),c.d(),i[19](null)}}}const T=i=>i+"_"+Math.floor(Math.random()*1e9)+String(Date.now()),re=()=>{let i={listeners:[],scriptId:T("tiny-script"),scriptLoaded:!1,injected:!1};const e=(o,c,l,n)=>{i.injected=!0;const r=c.createElement("script");r.referrerPolicy="origin",r.type="application/javascript",r.src=l,r.onload=()=>{n()},c.head&&c.head.appendChild(r)};return{load:(o,c,l)=>{i.scriptLoaded?l():(i.listeners.push(l),i.injected||e(i.scriptId,o,c,()=>{i.listeners.forEach(n=>n()),i.scriptLoaded=!0}))}}};let ce=re();function ae(i,e,t){var o;let{id:c=T("tinymce-svelte")}=e,{inline:l=void 0}=e,{disabled:n=!1}=e,{apiKey:r="no-api-key"}=e,{channel:a="6"}=e,{scriptSrc:b=void 0}=e,{conf:h={}}=e,{modelEvents:p="change input undo redo"}=e,{value:u=""}=e,{text:k=""}=e,{cssClass:A="tinymce-wrapper"}=e,v,m,f,C="",j=n;const V=q(),M=()=>{const d=(()=>typeof window<"u"?window:global)();return d&&d.tinymce?d.tinymce:null},L=()=>{const s=Object.assign(Object.assign({},h),{target:m,inline:l!==void 0?l:h.inline!==void 0?h.inline:!1,readonly:n,setup:d=>{t(14,f=d),d.on("init",()=>{d.setContent(u),d.on(p,()=>{t(15,C=d.getContent()),C!==u&&(t(5,u=C),t(6,k=d.getContent({format:"text"})))})}),ie(d,V),typeof h.setup=="function"&&h.setup(d)}});t(4,m.style.visibility="",m),M().init(s)};U(()=>{if(M()!==null)L();else{const s=b||`https://cdn.tiny.cloud/1/${r}/tinymce/${a}/tinymce.min.js`;ce.load(v.ownerDocument,s,()=>{L()})}}),X(()=>{var s;f&&((s=M())===null||s===void 0||s.remove(f))});function H(s){y[s?"unshift":"push"](()=>{m=s,t(4,m)})}function F(s){y[s?"unshift":"push"](()=>{m=s,t(4,m)})}function G(s){y[s?"unshift":"push"](()=>{v=s,t(3,v)})}return i.$$set=s=>{"id"in s&&t(0,c=s.id),"inline"in s&&t(1,l=s.inline),"disabled"in s&&t(7,n=s.disabled),"apiKey"in s&&t(8,r=s.apiKey),"channel"in s&&t(9,a=s.channel),"scriptSrc"in s&&t(10,b=s.scriptSrc),"conf"in s&&t(11,h=s.conf),"modelEvents"in s&&t(12,p=s.modelEvents),"value"in s&&t(5,u=s.value),"text"in s&&t(6,k=s.text),"cssClass"in s&&t(2,A=s.cssClass)},i.$$.update=()=>{i.$$.dirty&123040&&(f&&C!==u&&(f.setContent(u),t(6,k=f.getContent({format:"text"}))),f&&n!==j&&(t(16,j=n),typeof(t(13,o=f.mode)===null||o===void 0?void 0:o.set)=="function"?f.mode.set(n?"readonly":"design"):f.setMode(n?"readonly":"design")))},[c,l,A,v,m,u,k,n,r,a,b,h,p,o,f,C,j,H,F,G]}class ue extends B{constructor(e){super(),K(this,e,ae,le,O,{id:0,inline:1,disabled:7,apiKey:8,channel:9,scriptSrc:10,conf:11,modelEvents:12,value:5,text:6,cssClass:2})}}function z(i){let e,t,o;function c(n){i[6](n)}let l={scriptSrc:"tinymce/tinymce.min.js",conf:i[0]};return i[3]!==void 0&&(l.value=i[3]),e=new ue({props:l}),i[5](e),y.push(()=>Y(e,"value",c)),{c(){Z(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,r){x(e,n,r),o=!0},p(n,r){const a={};r&1&&(a.conf=n[0]),!t&&r&8&&(t=!0,a.value=n[3],$(()=>t=!1)),e.$set(a)},i(n){o||(I(e.$$.fragment,n),o=!0)},o(n){R(e.$$.fragment,n),o=!1},d(n){i[5](null),ee(e,n)}}}function de(i){let e,t=i[0].height,o,c,l,n=z(i);return{c(){e=E("div"),n.c(),this.h()},l(r){e=S(r,"DIV",{class:!0});var a=D(e);n.l(a),a.forEach(g),this.h()},h(){_(e,"class","w-full h-full")},m(r,a){w(r,e,a),n.m(e,null),i[7](e),o=!0,c||(l=Q(window,"resize",i[4]),c=!0)},p(r,[a]){a&1&&O(t,t=r[0].height)?(te(),R(n,1,1,P),W(),n=z(r),n.c(),I(n,1),n.m(e,null)):n.p(r,a)},i(r){o||(I(n),o=!0)},o(r){R(n),o=!1},d(r){r&&g(e),n.d(r),i[7](null),c=!1,l()}}}function fe(i,e,t){const o={skin:"oxide-dark",content_css:"dark",resize:!1,height:200,plugins:["code","table","image","lists","help","link"],menubar:"edit insert view format table help",toolbar:"undo redo | styles | bold italic underline strikethrough subscript superscript | link image table | aligncenter alignjustify alignleft alignright | backcolor forecolor | fontsize | numlist bullist | hr | removeformat"};let c,l;const n=()=>{l&&clearTimeout(l),l=setTimeout(()=>{t(0,o.height=c.offsetHeight,o)},50)};let r;U(()=>{n(),console.log(r)});let a="";function b(u){y[u?"unshift":"push"](()=>{r=u,t(2,r)})}function h(u){a=u,t(3,a)}function p(u){y[u?"unshift":"push"](()=>{c=u,t(1,c)})}return[o,c,r,a,n,b,h,p]}class me extends B{constructor(e){super(),K(this,e,fe,de,O,{})}}export{me as default};
