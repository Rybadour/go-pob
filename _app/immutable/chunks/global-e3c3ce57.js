import{S as L,i as Y,s as j,k as S,a as U,q as B,l as w,m as I,c as W,h as b,r as q,n as c,Y as C,b as H,E as h,G as O,H as v,K,A as P,C as z,u as J,T as M}from"./index-0e633497.js";import{w as y}from"./index-1b0950db.js";import{s as V}from"./worker-9c98ab58.js";function F(n){let e,l;return{c(){e=S("span"),l=B(n[1]),this.h()},l(o){e=w(o,"SPAN",{class:!0});var t=I(e);l=q(t,n[1]),t.forEach(b),this.h()},h(){c(e,"class","mx-1 select-none")},m(o,t){H(o,e,t),h(e,l)},p(o,t){t&2&&J(l,o[1])},d(o){o&&b(e)}}}function Q(n){let e,l,o,t,p,r,m,i,d,k,g,_,a=n[1]&&F(n);return{c(){e=S("div"),l=S("div"),a&&a.c(),o=U(),t=S("input"),p=U(),r=S("button"),m=B("+"),i=U(),d=S("button"),k=B("\u2212"),this.h()},l(s){e=w(s,"DIV",{class:!0});var u=I(e);l=w(u,"DIV",{class:!0});var T=I(l);a&&a.l(T),o=W(T),t=w(T,"INPUT",{type:!0,min:!0,max:!0,class:!0,placeholder:!0,id:!0}),T.forEach(b),p=W(u),r=w(u,"BUTTON",{class:!0});var E=I(r);m=q(E,"+"),E.forEach(b),i=W(u),d=w(u,"BUTTON",{class:!0});var N=I(d);k=q(N,"\u2212"),N.forEach(b),u.forEach(b),this.h()},h(){c(t,"type","number"),c(t,"min",n[2]),c(t,"max",n[3]),c(t,"class","input w-full"),c(t,"placeholder",n[4]),c(t,"id",n[6]),c(l,"class","input-wrapper flex flex-row items-center flex-1"),c(r,"class","container font-bold"),r.disabled=n[9],c(d,"class","container font-bold"),d.disabled=n[8],c(e,"class","flex flex-row"),C(e,"min-w-full",n[5])},m(s,u){H(s,e,u),h(e,l),a&&a.m(l,null),h(l,o),h(l,t),n[11](t),O(t,n[0]),h(e,p),h(e,r),h(r,m),h(e,i),h(e,d),h(d,k),g||(_=[v(t,"input",n[12]),v(l,"click",n[13]),v(r,"click",n[14]),v(d,"click",n[15])],g=!0)},p(s,[u]){s[1]?a?a.p(s,u):(a=F(s),a.c(),a.m(l,o)):a&&(a.d(1),a=null),u&4&&c(t,"min",s[2]),u&8&&c(t,"max",s[3]),u&16&&c(t,"placeholder",s[4]),u&64&&c(t,"id",s[6]),u&1&&K(t.value)!==s[0]&&O(t,s[0]),u&512&&(r.disabled=s[9]),u&256&&(d.disabled=s[8]),u&32&&C(e,"min-w-full",s[5])},i:P,o:P,d(s){s&&b(e),a&&a.d(),n[11](null),g=!1,z(_)}}}function R(n,e,l){let o,t,{prefix:p=void 0}=e,{min:r=void 0}=e,{max:m=void 0}=e,{value:i=void 0}=e,{placeholder:d=""}=e,{fullWidth:k=!1}=e,{id:g=null}=e,_;const a=f=>{i!==void 0&&(l(0,i=(typeof i=="string"?parseInt(i)||0:i)+(f||r||0)),m!==void 0&&i>m?l(0,i=m):r!==void 0&&i<r&&l(0,i=r))};function s(f){M[f?"unshift":"push"](()=>{_=f,l(7,_)})}function u(){i=K(this.value),l(0,i)}const T=()=>_.focus(),E=()=>a(1),N=()=>a(-1);return n.$$set=f=>{"prefix"in f&&l(1,p=f.prefix),"min"in f&&l(2,r=f.min),"max"in f&&l(3,m=f.max),"value"in f&&l(0,i=f.value),"placeholder"in f&&l(4,d=f.placeholder),"fullWidth"in f&&l(5,k=f.fullWidth),"id"in f&&l(6,g=f.id)},n.$$.update=()=>{n.$$.dirty&9&&l(9,o=typeof i!="number"||m!==void 0&&i>=m),n.$$.dirty&5&&l(8,t=typeof i!="number"||r!==void 0&&i<=r)},[i,p,r,m,d,k,g,_,t,o,a,s,u,T,E,N]}class ne extends L{constructor(e){super(),Y(this,e,R,Q,j,{prefix:1,min:2,max:3,value:0,placeholder:4,fullWidth:5,id:6})}}const le=y(),te=y();let A=!1,D=!1,G="";const X=n=>{if(!!V){if(A){D=!0,G=n;return}A=!0,V.Tick(n).catch(e=>{console.error(e)}).then(()=>{A=!1,D&&(D=!1,X(G))})}},Z=y(parseFloat(localStorage.getItem("options:fontScaling")||"12"));Z.subscribe(n=>localStorage.setItem("options:fontScaling",n.toString(10)));export{ne as N,X as U,te as c,Z as f,le as o};
