import{S as j,i as z,s as G,k as T,a as D,q as B,l as I,m as w,c as U,h as b,r as q,n as c,X as F,b as R,B as h,D as O,E as v,I as X,A as P,F as H,u as J,R as K}from"./index-1df78059.js";import{w as y}from"./index-c295fc78.js";import{s as V}from"./worker-609995b1.js";function C(n){let e,l;return{c(){e=T("span"),l=B(n[1]),this.h()},l(o){e=I(o,"SPAN",{class:!0});var t=w(e);l=q(t,n[1]),t.forEach(b),this.h()},h(){c(e,"class","mx-1 select-none")},m(o,t){R(o,e,t),h(e,l)},p(o,t){t&2&&J(l,o[1])},d(o){o&&b(e)}}}function M(n){let e,l,o,t,p,r,m,i,d,k,g,_,a=n[1]&&C(n);return{c(){e=T("div"),l=T("div"),a&&a.c(),o=D(),t=T("input"),p=D(),r=T("button"),m=B("+"),i=D(),d=T("button"),k=B("\u2212"),this.h()},l(s){e=I(s,"DIV",{class:!0});var u=w(e);l=I(u,"DIV",{class:!0});var S=w(l);a&&a.l(S),o=U(S),t=I(S,"INPUT",{type:!0,min:!0,max:!0,class:!0,placeholder:!0,id:!0}),S.forEach(b),p=U(u),r=I(u,"BUTTON",{class:!0});var E=w(r);m=q(E,"+"),E.forEach(b),i=U(u),d=I(u,"BUTTON",{class:!0});var N=w(d);k=q(N,"\u2212"),N.forEach(b),u.forEach(b),this.h()},h(){c(t,"type","number"),c(t,"min",n[2]),c(t,"max",n[3]),c(t,"class","input w-full"),c(t,"placeholder",n[4]),c(t,"id",n[6]),c(l,"class","input-wrapper flex flex-row items-center flex-1"),c(r,"class","container font-bold"),r.disabled=n[9],c(d,"class","container font-bold"),d.disabled=n[8],c(e,"class","flex flex-row"),F(e,"min-w-full",n[5])},m(s,u){R(s,e,u),h(e,l),a&&a.m(l,null),h(l,o),h(l,t),n[11](t),O(t,n[0]),h(e,p),h(e,r),h(r,m),h(e,i),h(e,d),h(d,k),g||(_=[v(t,"input",n[12]),v(l,"click",n[13]),v(r,"click",n[14]),v(d,"click",n[15])],g=!0)},p(s,[u]){s[1]?a?a.p(s,u):(a=C(s),a.c(),a.m(l,o)):a&&(a.d(1),a=null),u&4&&c(t,"min",s[2]),u&8&&c(t,"max",s[3]),u&16&&c(t,"placeholder",s[4]),u&64&&c(t,"id",s[6]),u&1&&X(t.value)!==s[0]&&O(t,s[0]),u&512&&(r.disabled=s[9]),u&256&&(d.disabled=s[8]),u&32&&F(e,"min-w-full",s[5])},i:P,o:P,d(s){s&&b(e),a&&a.d(),n[11](null),g=!1,H(_)}}}function Q(n,e,l){let o,t,{prefix:p=void 0}=e,{min:r=void 0}=e,{max:m=void 0}=e,{value:i=void 0}=e,{placeholder:d=""}=e,{fullWidth:k=!1}=e,{id:g=null}=e,_;const a=f=>{i!==void 0&&(l(0,i=(typeof i=="string"?parseInt(i)||0:i)+(f||r||0)),m!==void 0&&i>m?l(0,i=m):r!==void 0&&i<r&&l(0,i=r))};function s(f){K[f?"unshift":"push"](()=>{_=f,l(7,_)})}function u(){i=X(this.value),l(0,i)}const S=()=>_.focus(),E=()=>a(1),N=()=>a(-1);return n.$$set=f=>{"prefix"in f&&l(1,p=f.prefix),"min"in f&&l(2,r=f.min),"max"in f&&l(3,m=f.max),"value"in f&&l(0,i=f.value),"placeholder"in f&&l(4,d=f.placeholder),"fullWidth"in f&&l(5,k=f.fullWidth),"id"in f&&l(6,g=f.id)},n.$$.update=()=>{n.$$.dirty&9&&l(9,o=typeof i!="number"||m!==void 0&&i>=m),n.$$.dirty&5&&l(8,t=typeof i!="number"||r!==void 0&&i<=r)},[i,p,r,m,d,k,g,_,t,o,a,s,u,S,E,N]}class ne extends j{constructor(e){super(),z(this,e,Q,M,G,{prefix:1,min:2,max:3,value:0,placeholder:4,fullWidth:5,id:6})}}const le=y(),te=y();let W=!1,A=!1,L="";const Y=n=>{if(!!V){if(W){A=!0,L=n;return}W=!0,V.Tick(n).catch(e=>{console.error(e)}).then(()=>{W=!1,A&&(A=!1,Y(L))})}},Z=y(parseFloat(localStorage.getItem("options:fontScaling")||"12"));Z.subscribe(n=>localStorage.setItem("options:fontScaling",n.toString(10)));export{ne as N,Y as U,te as c,Z as f,le as o};
