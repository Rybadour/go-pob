(function(){"use strict";const Te=Symbol("Comlink.proxy"),it=Symbol("Comlink.endpoint"),at=Symbol("Comlink.releaseProxy"),fe=Symbol("Comlink.thrown"),Re=f=>typeof f=="object"&&f!==null||typeof f=="function",st={canHandle:f=>Re(f)&&f[Te],serialize(f){const{port1:E,port2:T}=new MessageChannel;return ce(f,E),[T,[T]]},deserialize(f){return f.start(),ct(f)}},ut={canHandle:f=>Re(f)&&fe in f,serialize({value:f}){let E;return f instanceof Error?E={isError:!0,value:{message:f.message,name:f.name,stack:f.stack}}:E={isError:!1,value:f},[E,[]]},deserialize(f){throw f.isError?Object.assign(new Error(f.value.message),f.value):f.value}},xe=new Map([["proxy",st],["throw",ut]]);function ce(f,E=self){E.addEventListener("message",function T(_){if(!_||!_.data)return;const{id:g,type:c,path:v}=Object.assign({path:[]},_.data),y=(_.data.argumentList||[]).map(Q);let R;try{const I=v.slice(0,-1).reduce((r,s)=>r[s],f),P=v.reduce((r,s)=>r[s],f);switch(c){case"GET":R=P;break;case"SET":I[v.slice(-1)[0]]=Q(_.data.value),R=!0;break;case"APPLY":R=P.apply(I,y);break;case"CONSTRUCT":{const r=new P(...y);R=ht(r)}break;case"ENDPOINT":{const{port1:r,port2:s}=new MessageChannel;ce(f,s),R=dt(r,[r])}break;case"RELEASE":R=void 0;break;default:return}}catch(I){R={value:I,[fe]:0}}Promise.resolve(R).catch(I=>({value:I,[fe]:0})).then(I=>{const[P,r]=de(I);E.postMessage(Object.assign(Object.assign({},P),{id:g}),r),c==="RELEASE"&&(E.removeEventListener("message",T),Ae(E))})}),E.start&&E.start()}function ft(f){return f.constructor.name==="MessagePort"}function Ae(f){ft(f)&&f.close()}function ct(f,E){return le(f,[],E)}function ne(f){if(f)throw new Error("Proxy has been released and is not useable")}function le(f,E=[],T=function(){}){let _=!1;const g=new Proxy(T,{get(c,v){if(ne(_),v===at)return()=>q(f,{type:"RELEASE",path:E.map(y=>y.toString())}).then(()=>{Ae(f),_=!0});if(v==="then"){if(E.length===0)return{then:()=>g};const y=q(f,{type:"GET",path:E.map(R=>R.toString())}).then(Q);return y.then.bind(y)}return le(f,[...E,v])},set(c,v,y){ne(_);const[R,I]=de(y);return q(f,{type:"SET",path:[...E,v].map(P=>P.toString()),value:R},I).then(Q)},apply(c,v,y){ne(_);const R=E[E.length-1];if(R===it)return q(f,{type:"ENDPOINT"}).then(Q);if(R==="bind")return le(f,E.slice(0,-1));const[I,P]=De(y);return q(f,{type:"APPLY",path:E.map(r=>r.toString()),argumentList:I},P).then(Q)},construct(c,v){ne(_);const[y,R]=De(v);return q(f,{type:"CONSTRUCT",path:E.map(I=>I.toString()),argumentList:y},R).then(Q)}});return g}function lt(f){return Array.prototype.concat.apply([],f)}function De(f){const E=f.map(de);return[E.map(T=>T[0]),lt(E.map(T=>T[1]))]}const Ne=new WeakMap;function dt(f,E){return Ne.set(f,E),f}function ht(f){return Object.assign(f,{[Te]:!0})}function de(f){for(const[E,T]of xe)if(T.canHandle(f)){const[_,g]=T.serialize(f);return[{type:"HANDLER",name:E,value:_},g]}return[{type:"RAW",value:f},Ne.get(f)||[]]}function Q(f){switch(f.type){case"HANDLER":return xe.get(f.name).deserialize(f.value);case"RAW":return f.value}}function q(f,E,T){return new Promise(_=>{const g=mt();f.addEventListener("message",function c(v){!v.data||!v.data.id||v.data.id!==g||(f.removeEventListener("message",c),_(v.data))}),f.start&&f.start(),f.postMessage(Object.assign({id:g},E),T)})}function mt(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}(()=>{const f=()=>{const _=new Error("not implemented");return _.code="ENOSYS",_};if(!globalThis.fs){let _="";globalThis.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(g,c){_+=T.decode(c);const v=_.lastIndexOf(`
`);return v!=-1&&(console.log(_.substr(0,v)),_=_.substr(v+1)),c.length},write(g,c,v,y,R,I){if(v!==0||y!==c.length||R!==null){I(f());return}const P=this.writeSync(g,c);I(null,P)},chmod(g,c,v){v(f())},chown(g,c,v,y){y(f())},close(g,c){c(f())},fchmod(g,c,v){v(f())},fchown(g,c,v,y){y(f())},fstat(g,c){c(f())},fsync(g,c){c(null)},ftruncate(g,c,v){v(f())},lchown(g,c,v,y){y(f())},link(g,c,v){v(f())},lstat(g,c){c(f())},mkdir(g,c,v){v(f())},open(g,c,v,y){y(f())},read(g,c,v,y,R,I){I(f())},readdir(g,c){c(f())},readlink(g,c){c(f())},rename(g,c,v){v(f())},rmdir(g,c){c(f())},stat(g,c){c(f())},symlink(g,c,v){v(f())},truncate(g,c,v){v(f())},unlink(g,c){c(f())},utimes(g,c,v,y){y(f())}}}if(globalThis.process||(globalThis.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw f()},pid:-1,ppid:-1,umask(){throw f()},cwd(){throw f()},chdir(){throw f()}}),!globalThis.crypto)throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");if(!globalThis.performance)throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");if(!globalThis.TextEncoder)throw new Error("globalThis.TextEncoder is not available, polyfill required");if(!globalThis.TextDecoder)throw new Error("globalThis.TextDecoder is not available, polyfill required");const E=new TextEncoder("utf-8"),T=new TextDecoder("utf-8");globalThis.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=r=>{r!==0&&console.warn("exit code:",r)},this._exitPromise=new Promise(r=>{this._resolveExitPromise=r}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const _=(r,s)=>{this.mem.setUint32(r+0,s,!0),this.mem.setUint32(r+4,Math.floor(s/4294967296),!0)},g=r=>{const s=this.mem.getUint32(r+0,!0),w=this.mem.getInt32(r+4,!0);return s+w*4294967296},c=r=>{const s=this.mem.getFloat64(r,!0);if(s===0)return;if(!isNaN(s))return s;const w=this.mem.getUint32(r,!0);return this._values[w]},v=(r,s)=>{if(typeof s=="number"&&s!==0){if(isNaN(s)){this.mem.setUint32(r+4,2146959360,!0),this.mem.setUint32(r,0,!0);return}this.mem.setFloat64(r,s,!0);return}if(s===void 0){this.mem.setFloat64(r,0,!0);return}let S=this._ids.get(s);S===void 0&&(S=this._idPool.pop(),S===void 0&&(S=this._values.length),this._values[S]=s,this._goRefCounts[S]=0,this._ids.set(s,S)),this._goRefCounts[S]++;let B=0;switch(typeof s){case"object":s!==null&&(B=1);break;case"string":B=2;break;case"symbol":B=3;break;case"function":B=4;break}this.mem.setUint32(r+4,2146959360|B,!0),this.mem.setUint32(r,S,!0)},y=r=>{const s=g(r+0),w=g(r+8);return new Uint8Array(this._inst.exports.mem.buffer,s,w)},R=r=>{const s=g(r+0),w=g(r+8),S=new Array(w);for(let B=0;B<w;B++)S[B]=c(s+B*8);return S},I=r=>{const s=g(r+0),w=g(r+8);return T.decode(new DataView(this._inst.exports.mem.buffer,s,w))},P=Date.now()-performance.now();this.importObject={go:{"runtime.wasmExit":r=>{r>>>=0;const s=this.mem.getInt32(r+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(s)},"runtime.wasmWrite":r=>{r>>>=0;const s=g(r+8),w=g(r+16),S=this.mem.getInt32(r+24,!0);fs.writeSync(s,new Uint8Array(this._inst.exports.mem.buffer,w,S))},"runtime.resetMemoryDataView":r=>{this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":r=>{r>>>=0,_(r+8,(P+performance.now())*1e6)},"runtime.walltime":r=>{r>>>=0;const s=new Date().getTime();_(r+8,s/1e3),this.mem.setInt32(r+16,s%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":r=>{r>>>=0;const s=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(s,setTimeout(()=>{for(this._resume();this._scheduledTimeouts.has(s);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()},g(r+8)+1)),this.mem.setInt32(r+16,s,!0)},"runtime.clearTimeoutEvent":r=>{r>>>=0;const s=this.mem.getInt32(r+8,!0);clearTimeout(this._scheduledTimeouts.get(s)),this._scheduledTimeouts.delete(s)},"runtime.getRandomData":r=>{r>>>=0,crypto.getRandomValues(y(r+8))},"syscall/js.finalizeRef":r=>{r>>>=0;const s=this.mem.getUint32(r+8,!0);if(this._goRefCounts[s]--,this._goRefCounts[s]===0){const w=this._values[s];this._values[s]=null,this._ids.delete(w),this._idPool.push(s)}},"syscall/js.stringVal":r=>{r>>>=0,v(r+24,I(r+8))},"syscall/js.valueGet":r=>{r>>>=0;const s=Reflect.get(c(r+8),I(r+16));r=this._inst.exports.getsp()>>>0,v(r+32,s)},"syscall/js.valueSet":r=>{r>>>=0,Reflect.set(c(r+8),I(r+16),c(r+32))},"syscall/js.valueDelete":r=>{r>>>=0,Reflect.deleteProperty(c(r+8),I(r+16))},"syscall/js.valueIndex":r=>{r>>>=0,v(r+24,Reflect.get(c(r+8),g(r+16)))},"syscall/js.valueSetIndex":r=>{r>>>=0,Reflect.set(c(r+8),g(r+16),c(r+24))},"syscall/js.valueCall":r=>{r>>>=0;try{const s=c(r+8),w=Reflect.get(s,I(r+16)),S=R(r+32),B=Reflect.apply(w,s,S);r=this._inst.exports.getsp()>>>0,v(r+56,B),this.mem.setUint8(r+64,1)}catch(s){r=this._inst.exports.getsp()>>>0,v(r+56,s),this.mem.setUint8(r+64,0)}},"syscall/js.valueInvoke":r=>{r>>>=0;try{const s=c(r+8),w=R(r+16),S=Reflect.apply(s,void 0,w);r=this._inst.exports.getsp()>>>0,v(r+40,S),this.mem.setUint8(r+48,1)}catch(s){r=this._inst.exports.getsp()>>>0,v(r+40,s),this.mem.setUint8(r+48,0)}},"syscall/js.valueNew":r=>{r>>>=0;try{const s=c(r+8),w=R(r+16),S=Reflect.construct(s,w);r=this._inst.exports.getsp()>>>0,v(r+40,S),this.mem.setUint8(r+48,1)}catch(s){r=this._inst.exports.getsp()>>>0,v(r+40,s),this.mem.setUint8(r+48,0)}},"syscall/js.valueLength":r=>{r>>>=0,_(r+16,parseInt(c(r+8).length))},"syscall/js.valuePrepareString":r=>{r>>>=0;const s=E.encode(String(c(r+8)));v(r+16,s),_(r+24,s.length)},"syscall/js.valueLoadString":r=>{r>>>=0;const s=c(r+8);y(r+16).set(s)},"syscall/js.valueInstanceOf":r=>{r>>>=0,this.mem.setUint8(r+24,c(r+8)instanceof c(r+16)?1:0)},"syscall/js.copyBytesToGo":r=>{r>>>=0;const s=y(r+8),w=c(r+32);if(!(w instanceof Uint8Array||w instanceof Uint8ClampedArray)){this.mem.setUint8(r+48,0);return}const S=w.subarray(0,s.length);s.set(S),_(r+40,S.length),this.mem.setUint8(r+48,1)},"syscall/js.copyBytesToJS":r=>{r>>>=0;const s=c(r+8),w=y(r+16);if(!(s instanceof Uint8Array||s instanceof Uint8ClampedArray)){this.mem.setUint8(r+48,0);return}const S=w.subarray(0,s.length);s.set(S),_(r+40,S.length),this.mem.setUint8(r+48,1)},debug:r=>{console.log(r)}}}}async run(_){if(!(_ instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=_,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,globalThis,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[globalThis,5],[this,6]]),this._idPool=[],this.exited=!1;let g=4096;const c=r=>{const s=g,w=E.encode(r+"\0");return new Uint8Array(this.mem.buffer,g,w.length).set(w),g+=w.length,g%8!==0&&(g+=8-g%8),s},v=this.argv.length,y=[];this.argv.forEach(r=>{y.push(c(r))}),y.push(0),Object.keys(this.env).sort().forEach(r=>{y.push(c(`${r}=${this.env[r]}`))}),y.push(0);const I=g;y.forEach(r=>{this.mem.setUint32(g,r,!0),this.mem.setUint32(g+4,0,!0),g+=8});const P=4096+8192;if(g>=P)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(v,I),this.exited&&this._resolveExitPromise(),await this._exitPromise}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(_){const g=this;return function(){const c={id:_,this:this,args:arguments};return g._pendingEvent=c,g._resume(),c.result}}}})();let Ce,Pe,Oe,Be,Le,Ue;const vt=()=>{Ce={ParseBuild:globalThis.go["go-pob"].builds.ParseBuild,ParseBuildStr:globalThis.go["go-pob"].builds.ParseBuildStr},Pe={InitializeDiskCache:globalThis.go["go-pob"].cache.InitializeDiskCache},Oe={NewCalculator:globalThis.go["go-pob"].calculator.NewCalculator},Be={InitLogging:globalThis.go["go-pob"].config.InitLogging},Le={CompressEncode:globalThis.go["go-pob"].pob.CompressEncode,DecodeDecompress:globalThis.go["go-pob"].pob.DecodeDecompress},Ue={InitializeAll:globalThis.go["go-pob"].raw.InitializeAll}};var oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ie(f){throw new Error('Could not dynamically require "'+f+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Me={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(f,E){(function(T){f.exports=T()})(function(){return function T(_,g,c){function v(I,P){if(!g[I]){if(!_[I]){var r=typeof ie=="function"&&ie;if(!P&&r)return r(I,!0);if(y)return y(I,!0);var s=new Error("Cannot find module '"+I+"'");throw s.code="MODULE_NOT_FOUND",s}var w=g[I]={exports:{}};_[I][0].call(w.exports,function(S){var B=_[I][1][S];return v(B||S)},w,w.exports,T,_,g,c)}return g[I].exports}for(var y=typeof ie=="function"&&ie,R=0;R<c.length;R++)v(c[R]);return v}({1:[function(T,_,g){(function(c){var v=c.MutationObserver||c.WebKitMutationObserver,y;if(v){var R=0,I=new v(S),P=c.document.createTextNode("");I.observe(P,{characterData:!0}),y=function(){P.data=R=++R%2}}else if(!c.setImmediate&&typeof c.MessageChannel<"u"){var r=new c.MessageChannel;r.port1.onmessage=S,y=function(){r.port2.postMessage(0)}}else"document"in c&&"onreadystatechange"in c.document.createElement("script")?y=function(){var M=c.document.createElement("script");M.onreadystatechange=function(){S(),M.onreadystatechange=null,M.parentNode.removeChild(M),M=null},c.document.documentElement.appendChild(M)}:y=function(){setTimeout(S,0)};var s,w=[];function S(){s=!0;for(var M,V,F=w.length;F;){for(V=w,w=[],M=-1;++M<F;)V[M]();F=w.length}s=!1}_.exports=B;function B(M){w.push(M)===1&&!s&&y()}}).call(this,typeof oe<"u"?oe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(T,_,g){var c=T(1);function v(){}var y={},R=["REJECTED"],I=["FULFILLED"],P=["PENDING"];_.exports=r;function r(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=P,this.queue=[],this.outcome=void 0,p!==v&&B(this,p)}r.prototype.catch=function(p){return this.then(null,p)},r.prototype.then=function(p,D){if(typeof p!="function"&&this.state===I||typeof D!="function"&&this.state===R)return this;var A=new this.constructor(v);if(this.state!==P){var O=this.state===I?p:D;w(A,O,this.outcome)}else this.queue.push(new s(A,p,D));return A};function s(p,D,A){this.promise=p,typeof D=="function"&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}s.prototype.callFulfilled=function(p){y.resolve(this.promise,p)},s.prototype.otherCallFulfilled=function(p){w(this.promise,this.onFulfilled,p)},s.prototype.callRejected=function(p){y.reject(this.promise,p)},s.prototype.otherCallRejected=function(p){w(this.promise,this.onRejected,p)};function w(p,D,A){c(function(){var O;try{O=D(A)}catch(k){return y.reject(p,k)}O===p?y.reject(p,new TypeError("Cannot resolve promise with itself")):y.resolve(p,O)})}y.resolve=function(p,D){var A=M(S,D);if(A.status==="error")return y.reject(p,A.value);var O=A.value;if(O)B(p,O);else{p.state=I,p.outcome=D;for(var k=-1,z=p.queue.length;++k<z;)p.queue[k].callFulfilled(D)}return p},y.reject=function(p,D){p.state=R,p.outcome=D;for(var A=-1,O=p.queue.length;++A<O;)p.queue[A].callRejected(D);return p};function S(p){var D=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof D=="function")return function(){D.apply(p,arguments)}}function B(p,D){var A=!1;function O(Y){A||(A=!0,y.reject(p,Y))}function k(Y){A||(A=!0,y.resolve(p,Y))}function z(){D(k,O)}var W=M(z);W.status==="error"&&O(W.value)}function M(p,D){var A={};try{A.value=p(D),A.status="success"}catch(O){A.status="error",A.value=O}return A}r.resolve=V;function V(p){return p instanceof this?p:y.resolve(new this(v),p)}r.reject=F;function F(p){var D=new this(v);return y.reject(D,p)}r.all=me;function me(p){var D=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=p.length,O=!1;if(!A)return this.resolve([]);for(var k=new Array(A),z=0,W=-1,Y=new this(v);++W<A;)$(p[W],W);return Y;function $(ee,ae){D.resolve(ee).then(ve,function(J){O||(O=!0,y.reject(Y,J))});function ve(J){k[ae]=J,++z===A&&!O&&(O=!0,y.resolve(Y,k))}}}r.race=X;function X(p){var D=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=p.length,O=!1;if(!A)return this.resolve([]);for(var k=-1,z=new this(v);++k<A;)W(p[k]);return z;function W(Y){D.resolve(Y).then(function($){O||(O=!0,y.resolve(z,$))},function($){O||(O=!0,y.reject(z,$))})}}},{1:1}],3:[function(T,_,g){(function(c){typeof c.Promise!="function"&&(c.Promise=T(2))}).call(this,typeof oe<"u"?oe:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(T,_,g){var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function v(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function y(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var R=y();function I(){try{if(!R||!R.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||n)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function P(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(o){if(o.name!=="TypeError")throw o;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,i=new t,a=0;a<e.length;a+=1)i.append(e[a]);return i.getBlob(n.type)}}typeof Promise>"u"&&T(3);var r=Promise;function s(e,n){n&&e.then(function(t){n(null,t)},function(t){n(t)})}function w(e,n,t){typeof n=="function"&&e.then(n),typeof t=="function"&&e.catch(t)}function S(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function B(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var M="local-forage-detect-blob-support",V=void 0,F={},me=Object.prototype.toString,X="readonly",p="readwrite";function D(e){for(var n=e.length,t=new ArrayBuffer(n),i=new Uint8Array(t),a=0;a<n;a++)i[a]=e.charCodeAt(a);return t}function A(e){return new r(function(n){var t=e.transaction(M,p),i=P([""]);t.objectStore(M).put(i,"key"),t.onabort=function(a){a.preventDefault(),a.stopPropagation(),n(!1)},t.oncomplete=function(){var a=navigator.userAgent.match(/Chrome\/(\d+)/),o=navigator.userAgent.match(/Edge\//);n(o||!a||parseInt(a[1],10)>=43)}}).catch(function(){return!1})}function O(e){return typeof V=="boolean"?r.resolve(V):A(e).then(function(n){return V=n,V})}function k(e){var n=F[e.name],t={};t.promise=new r(function(i,a){t.resolve=i,t.reject=a}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function z(e){var n=F[e.name],t=n.deferredOperations.pop();if(t)return t.resolve(),t.promise}function W(e,n){var t=F[e.name],i=t.deferredOperations.pop();if(i)return i.reject(n),i.promise}function Y(e,n){return new r(function(t,i){if(F[e.name]=F[e.name]||ke(),e.db)if(n)k(e),e.db.close();else return t(e.db);var a=[e.name];n&&a.push(e.version);var o=R.open.apply(R,a);n&&(o.onupgradeneeded=function(u){var l=o.result;try{l.createObjectStore(e.storeName),u.oldVersion<=1&&l.createObjectStore(M)}catch(d){if(d.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+u.oldVersion+" to version "+u.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw d}}),o.onerror=function(u){u.preventDefault(),i(o.error)},o.onsuccess=function(){var u=o.result;u.onversionchange=function(l){l.target.close()},t(u),z(e)}})}function $(e){return Y(e,!1)}function ee(e){return Y(e,!0)}function ae(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,a=e.version>e.db.version;if(i&&(e.version!==n&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),a||t){if(t){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function ve(e){return new r(function(n,t){var i=new FileReader;i.onerror=t,i.onloadend=function(a){var o=btoa(a.target.result||"");n({__local_forage_encoded_blob:!0,data:o,type:e.type})},i.readAsBinaryString(e)})}function J(e){var n=D(atob(e.data));return P([n],{type:e.type})}function Fe(e){return e&&e.__local_forage_encoded_blob}function yt(e){var n=this,t=n._initReady().then(function(){var i=F[n._dbInfo.name];if(i&&i.dbReady)return i.dbReady});return w(t,e,e),t}function pt(e){k(e);for(var n=F[e.name],t=n.forages,i=0;i<t.length;i++){var a=t[i];a._dbInfo.db&&(a._dbInfo.db.close(),a._dbInfo.db=null)}return e.db=null,$(e).then(function(o){return e.db=o,ae(e)?ee(e):o}).then(function(o){e.db=n.db=o;for(var u=0;u<t.length;u++)t[u]._dbInfo.db=o}).catch(function(o){throw W(e,o),o})}function H(e,n,t,i){i===void 0&&(i=1);try{var a=e.db.transaction(e.storeName,n);t(null,a)}catch(o){if(i>0&&(!e.db||o.name==="InvalidStateError"||o.name==="NotFoundError"))return r.resolve().then(function(){if(!e.db||o.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ee(e)}).then(function(){return pt(e).then(function(){H(e,n,t,i-1)})}).catch(t);t(o)}}function ke(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function bt(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=e[i];var a=F[t.name];a||(a=ke(),F[t.name]=a),a.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=yt);var o=[];function u(){return r.resolve()}for(var l=0;l<a.forages.length;l++){var d=a.forages[l];d!==n&&o.push(d._initReady().catch(u))}var h=a.forages.slice(0);return r.all(o).then(function(){return t.db=a.db,$(t)}).then(function(m){return t.db=m,ae(t,n._defaultConfig.version)?ee(t):m}).then(function(m){t.db=a.db=m,n._dbInfo=t;for(var b=0;b<h.length;b++){var x=h[b];x!==n&&(x._dbInfo.db=t.db,x._dbInfo.version=t.version)}})}function _t(e,n){var t=this;e=S(e);var i=new r(function(a,o){t.ready().then(function(){H(t._dbInfo,X,function(u,l){if(u)return o(u);try{var d=l.objectStore(t._dbInfo.storeName),h=d.get(e);h.onsuccess=function(){var m=h.result;m===void 0&&(m=null),Fe(m)&&(m=J(m)),a(m)},h.onerror=function(){o(h.error)}}catch(m){o(m)}})}).catch(o)});return s(i,n),i}function wt(e,n){var t=this,i=new r(function(a,o){t.ready().then(function(){H(t._dbInfo,X,function(u,l){if(u)return o(u);try{var d=l.objectStore(t._dbInfo.storeName),h=d.openCursor(),m=1;h.onsuccess=function(){var b=h.result;if(b){var x=b.value;Fe(x)&&(x=J(x));var N=e(x,b.key,m++);N!==void 0?a(N):b.continue()}else a()},h.onerror=function(){o(h.error)}}catch(b){o(b)}})}).catch(o)});return s(i,n),i}function Et(e,n,t){var i=this;e=S(e);var a=new r(function(o,u){var l;i.ready().then(function(){return l=i._dbInfo,me.call(n)==="[object Blob]"?O(l.db).then(function(d){return d?n:ve(n)}):n}).then(function(d){H(i._dbInfo,p,function(h,m){if(h)return u(h);try{var b=m.objectStore(i._dbInfo.storeName);d===null&&(d=void 0);var x=b.put(d,e);m.oncomplete=function(){d===void 0&&(d=null),o(d)},m.onabort=m.onerror=function(){var N=x.error?x.error:x.transaction.error;u(N)}}catch(N){u(N)}})}).catch(u)});return s(a,t),a}function St(e,n){var t=this;e=S(e);var i=new r(function(a,o){t.ready().then(function(){H(t._dbInfo,p,function(u,l){if(u)return o(u);try{var d=l.objectStore(t._dbInfo.storeName),h=d.delete(e);l.oncomplete=function(){a()},l.onerror=function(){o(h.error)},l.onabort=function(){var m=h.error?h.error:h.transaction.error;o(m)}}catch(m){o(m)}})}).catch(o)});return s(i,n),i}function It(e){var n=this,t=new r(function(i,a){n.ready().then(function(){H(n._dbInfo,p,function(o,u){if(o)return a(o);try{var l=u.objectStore(n._dbInfo.storeName),d=l.clear();u.oncomplete=function(){i()},u.onabort=u.onerror=function(){var h=d.error?d.error:d.transaction.error;a(h)}}catch(h){a(h)}})}).catch(a)});return s(t,e),t}function Tt(e){var n=this,t=new r(function(i,a){n.ready().then(function(){H(n._dbInfo,X,function(o,u){if(o)return a(o);try{var l=u.objectStore(n._dbInfo.storeName),d=l.count();d.onsuccess=function(){i(d.result)},d.onerror=function(){a(d.error)}}catch(h){a(h)}})}).catch(a)});return s(t,e),t}function Rt(e,n){var t=this,i=new r(function(a,o){if(e<0){a(null);return}t.ready().then(function(){H(t._dbInfo,X,function(u,l){if(u)return o(u);try{var d=l.objectStore(t._dbInfo.storeName),h=!1,m=d.openKeyCursor();m.onsuccess=function(){var b=m.result;if(!b){a(null);return}e===0||h?a(b.key):(h=!0,b.advance(e))},m.onerror=function(){o(m.error)}}catch(b){o(b)}})}).catch(o)});return s(i,n),i}function xt(e){var n=this,t=new r(function(i,a){n.ready().then(function(){H(n._dbInfo,X,function(o,u){if(o)return a(o);try{var l=u.objectStore(n._dbInfo.storeName),d=l.openKeyCursor(),h=[];d.onsuccess=function(){var m=d.result;if(!m){i(h);return}h.push(m.key),m.continue()},d.onerror=function(){a(d.error)}}catch(m){a(m)}})}).catch(a)});return s(t,e),t}function At(e,n){n=B.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,a;if(!e.name)a=r.reject("Invalid arguments");else{var o=e.name===t.name&&i._dbInfo.db,u=o?r.resolve(i._dbInfo.db):$(e).then(function(l){var d=F[e.name],h=d.forages;d.db=l;for(var m=0;m<h.length;m++)h[m]._dbInfo.db=l;return l});e.storeName?a=u.then(function(l){if(!!l.objectStoreNames.contains(e.storeName)){var d=l.version+1;k(e);var h=F[e.name],m=h.forages;l.close();for(var b=0;b<m.length;b++){var x=m[b];x._dbInfo.db=null,x._dbInfo.version=d}var N=new r(function(C,U){var L=R.open(e.name,d);L.onerror=function(j){var re=L.result;re.close(),U(j)},L.onupgradeneeded=function(){var j=L.result;j.deleteObjectStore(e.storeName)},L.onsuccess=function(){var j=L.result;j.close(),C(j)}});return N.then(function(C){h.db=C;for(var U=0;U<m.length;U++){var L=m[U];L._dbInfo.db=C,z(L._dbInfo)}}).catch(function(C){throw(W(e,C)||r.resolve()).catch(function(){}),C})}}):a=u.then(function(l){k(e);var d=F[e.name],h=d.forages;l.close();for(var m=0;m<h.length;m++){var b=h[m];b._dbInfo.db=null}var x=new r(function(N,C){var U=R.deleteDatabase(e.name);U.onerror=function(){var L=U.result;L&&L.close(),C(U.error)},U.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},U.onsuccess=function(){var L=U.result;L&&L.close(),N(L)}});return x.then(function(N){d.db=N;for(var C=0;C<h.length;C++){var U=h[C];z(U._dbInfo)}}).catch(function(N){throw(W(e,N)||r.resolve()).catch(function(){}),N})})}return s(a,n),a}var Dt={_driver:"asyncStorage",_initStorage:bt,_support:I(),iterate:wt,getItem:_t,setItem:Et,removeItem:St,clear:It,length:Tt,key:Rt,keys:xt,dropInstance:At};function Nt(){return typeof openDatabase=="function"}var G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ct="~~local_forage_type~",ze=/^~~local_forage_type~([^~]+)~/,se="__lfsc__:",ge=se.length,ye="arbf",pe="blob",We="si08",Ye="ui08",je="uic8",Ve="si16",$e="si32",He="ur16",Ge="ui32",Ke="fl32",Qe="fl64",Xe=ge+ye.length,qe=Object.prototype.toString;function Je(e){var n=e.length*.75,t=e.length,i,a=0,o,u,l,d;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var h=new ArrayBuffer(n),m=new Uint8Array(h);for(i=0;i<t;i+=4)o=G.indexOf(e[i]),u=G.indexOf(e[i+1]),l=G.indexOf(e[i+2]),d=G.indexOf(e[i+3]),m[a++]=o<<2|u>>4,m[a++]=(u&15)<<4|l>>2,m[a++]=(l&3)<<6|d&63;return h}function be(e){var n=new Uint8Array(e),t="",i;for(i=0;i<n.length;i+=3)t+=G[n[i]>>2],t+=G[(n[i]&3)<<4|n[i+1]>>4],t+=G[(n[i+1]&15)<<2|n[i+2]>>6],t+=G[n[i+2]&63];return n.length%3===2?t=t.substring(0,t.length-1)+"=":n.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function Pt(e,n){var t="";if(e&&(t=qe.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&qe.call(e.buffer)==="[object ArrayBuffer]")){var i,a=se;e instanceof ArrayBuffer?(i=e,a+=ye):(i=e.buffer,t==="[object Int8Array]"?a+=We:t==="[object Uint8Array]"?a+=Ye:t==="[object Uint8ClampedArray]"?a+=je:t==="[object Int16Array]"?a+=Ve:t==="[object Uint16Array]"?a+=He:t==="[object Int32Array]"?a+=$e:t==="[object Uint32Array]"?a+=Ge:t==="[object Float32Array]"?a+=Ke:t==="[object Float64Array]"?a+=Qe:n(new Error("Failed to get type for BinaryArray"))),n(a+be(i))}else if(t==="[object Blob]"){var o=new FileReader;o.onload=function(){var u=Ct+e.type+"~"+be(this.result);n(se+pe+u)},o.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(u){console.error("Couldn't convert value into a JSON string: ",e),n(null,u)}}function Ot(e){if(e.substring(0,ge)!==se)return JSON.parse(e);var n=e.substring(Xe),t=e.substring(ge,Xe),i;if(t===pe&&ze.test(n)){var a=n.match(ze);i=a[1],n=n.substring(a[0].length)}var o=Je(n);switch(t){case ye:return o;case pe:return P([o],{type:i});case We:return new Int8Array(o);case Ye:return new Uint8Array(o);case je:return new Uint8ClampedArray(o);case Ve:return new Int16Array(o);case He:return new Uint16Array(o);case $e:return new Int32Array(o);case Ge:return new Uint32Array(o);case Ke:return new Float32Array(o);case Qe:return new Float64Array(o);default:throw new Error("Unkown type: "+t)}}var _e={serialize:Pt,deserialize:Ot,stringToBuffer:Je,bufferToString:be};function Ze(e,n,t,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,i)}function Bt(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=typeof e[i]!="string"?e[i].toString():e[i];var a=new r(function(o,u){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(l){return u(l)}t.db.transaction(function(l){Ze(l,t,function(){n._dbInfo=t,o()},function(d,h){u(h)})},u)});return t.serializer=_e,a}function K(e,n,t,i,a,o){e.executeSql(t,i,a,function(u,l){l.code===l.SYNTAX_ERR?u.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(d,h){h.rows.length?o(d,l):Ze(d,n,function(){d.executeSql(t,i,a,o)},o)},o):o(u,l)},o)}function Lt(e,n){var t=this;e=S(e);var i=new r(function(a,o){t.ready().then(function(){var u=t._dbInfo;u.db.transaction(function(l){K(l,u,"SELECT * FROM "+u.storeName+" WHERE key = ? LIMIT 1",[e],function(d,h){var m=h.rows.length?h.rows.item(0).value:null;m&&(m=u.serializer.deserialize(m)),a(m)},function(d,h){o(h)})})}).catch(o)});return s(i,n),i}function Ut(e,n){var t=this,i=new r(function(a,o){t.ready().then(function(){var u=t._dbInfo;u.db.transaction(function(l){K(l,u,"SELECT * FROM "+u.storeName,[],function(d,h){for(var m=h.rows,b=m.length,x=0;x<b;x++){var N=m.item(x),C=N.value;if(C&&(C=u.serializer.deserialize(C)),C=e(C,N.key,x+1),C!==void 0){a(C);return}}a()},function(d,h){o(h)})})}).catch(o)});return s(i,n),i}function et(e,n,t,i){var a=this;e=S(e);var o=new r(function(u,l){a.ready().then(function(){n===void 0&&(n=null);var d=n,h=a._dbInfo;h.serializer.serialize(n,function(m,b){b?l(b):h.db.transaction(function(x){K(x,h,"INSERT OR REPLACE INTO "+h.storeName+" (key, value) VALUES (?, ?)",[e,m],function(){u(d)},function(N,C){l(C)})},function(x){if(x.code===x.QUOTA_ERR){if(i>0){u(et.apply(a,[e,d,t,i-1]));return}l(x)}})})}).catch(l)});return s(o,t),o}function Mt(e,n,t){return et.apply(this,[e,n,t,1])}function Ft(e,n){var t=this;e=S(e);var i=new r(function(a,o){t.ready().then(function(){var u=t._dbInfo;u.db.transaction(function(l){K(l,u,"DELETE FROM "+u.storeName+" WHERE key = ?",[e],function(){a()},function(d,h){o(h)})})}).catch(o)});return s(i,n),i}function kt(e){var n=this,t=new r(function(i,a){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(u){K(u,o,"DELETE FROM "+o.storeName,[],function(){i()},function(l,d){a(d)})})}).catch(a)});return s(t,e),t}function zt(e){var n=this,t=new r(function(i,a){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(u){K(u,o,"SELECT COUNT(key) as c FROM "+o.storeName,[],function(l,d){var h=d.rows.item(0).c;i(h)},function(l,d){a(d)})})}).catch(a)});return s(t,e),t}function Wt(e,n){var t=this,i=new r(function(a,o){t.ready().then(function(){var u=t._dbInfo;u.db.transaction(function(l){K(l,u,"SELECT key FROM "+u.storeName+" WHERE id = ? LIMIT 1",[e+1],function(d,h){var m=h.rows.length?h.rows.item(0).key:null;a(m)},function(d,h){o(h)})})}).catch(o)});return s(i,n),i}function Yt(e){var n=this,t=new r(function(i,a){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(u){K(u,o,"SELECT key FROM "+o.storeName,[],function(l,d){for(var h=[],m=0;m<d.rows.length;m++)h.push(d.rows.item(m).key);i(h)},function(l,d){a(d)})})}).catch(a)});return s(t,e),t}function jt(e){return new r(function(n,t){e.transaction(function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(a,o){for(var u=[],l=0;l<o.rows.length;l++)u.push(o.rows.item(l).name);n({db:e,storeNames:u})},function(a,o){t(o)})},function(i){t(i)})})}function Vt(e,n){n=B.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,a;return e.name?a=new r(function(o){var u;e.name===t.name?u=i._dbInfo.db:u=openDatabase(e.name,"","",0),e.storeName?o({db:u,storeNames:[e.storeName]}):o(jt(u))}).then(function(o){return new r(function(u,l){o.db.transaction(function(d){function h(N){return new r(function(C,U){d.executeSql("DROP TABLE IF EXISTS "+N,[],function(){C()},function(L,j){U(j)})})}for(var m=[],b=0,x=o.storeNames.length;b<x;b++)m.push(h(o.storeNames[b]));r.all(m).then(function(){u()}).catch(function(N){l(N)})},function(d){l(d)})})}):a=r.reject("Invalid arguments"),s(a,n),a}var $t={_driver:"webSQLStorage",_initStorage:Bt,_support:Nt(),iterate:Ut,getItem:Lt,setItem:Mt,removeItem:Ft,clear:kt,length:zt,key:Wt,keys:Yt,dropInstance:Vt};function Ht(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function tt(e,n){var t=e.name+"/";return e.storeName!==n.storeName&&(t+=e.storeName+"/"),t}function Gt(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Kt(){return!Gt()||localStorage.length>0}function Qt(e){var n=this,t={};if(e)for(var i in e)t[i]=e[i];return t.keyPrefix=tt(e,n._defaultConfig),Kt()?(n._dbInfo=t,t.serializer=_e,r.resolve()):r.reject()}function Xt(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo.keyPrefix,a=localStorage.length-1;a>=0;a--){var o=localStorage.key(a);o.indexOf(i)===0&&localStorage.removeItem(o)}});return s(t,e),t}function qt(e,n){var t=this;e=S(e);var i=t.ready().then(function(){var a=t._dbInfo,o=localStorage.getItem(a.keyPrefix+e);return o&&(o=a.serializer.deserialize(o)),o});return s(i,n),i}function Jt(e,n){var t=this,i=t.ready().then(function(){for(var a=t._dbInfo,o=a.keyPrefix,u=o.length,l=localStorage.length,d=1,h=0;h<l;h++){var m=localStorage.key(h);if(m.indexOf(o)===0){var b=localStorage.getItem(m);if(b&&(b=a.serializer.deserialize(b)),b=e(b,m.substring(u),d++),b!==void 0)return b}}});return s(i,n),i}function Zt(e,n){var t=this,i=t.ready().then(function(){var a=t._dbInfo,o;try{o=localStorage.key(e)}catch{o=null}return o&&(o=o.substring(a.keyPrefix.length)),o});return s(i,n),i}function er(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo,a=localStorage.length,o=[],u=0;u<a;u++){var l=localStorage.key(u);l.indexOf(i.keyPrefix)===0&&o.push(l.substring(i.keyPrefix.length))}return o});return s(t,e),t}function tr(e){var n=this,t=n.keys().then(function(i){return i.length});return s(t,e),t}function rr(e,n){var t=this;e=S(e);var i=t.ready().then(function(){var a=t._dbInfo;localStorage.removeItem(a.keyPrefix+e)});return s(i,n),i}function nr(e,n,t){var i=this;e=S(e);var a=i.ready().then(function(){n===void 0&&(n=null);var o=n;return new r(function(u,l){var d=i._dbInfo;d.serializer.serialize(n,function(h,m){if(m)l(m);else try{localStorage.setItem(d.keyPrefix+e,h),u(o)}catch(b){(b.name==="QuotaExceededError"||b.name==="NS_ERROR_DOM_QUOTA_REACHED")&&l(b),l(b)}})})});return s(a,t),a}function or(e,n){if(n=B.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var i=this,a;return e.name?a=new r(function(o){e.storeName?o(tt(e,i._defaultConfig)):o(e.name+"/")}).then(function(o){for(var u=localStorage.length-1;u>=0;u--){var l=localStorage.key(u);l.indexOf(o)===0&&localStorage.removeItem(l)}}):a=r.reject("Invalid arguments"),s(a,n),a}var ir={_driver:"localStorageWrapper",_initStorage:Qt,_support:Ht(),iterate:Jt,getItem:qt,setItem:nr,removeItem:rr,clear:Xt,length:tr,key:Zt,keys:er,dropInstance:or},ar=function(n,t){return n===t||typeof n=="number"&&typeof t=="number"&&isNaN(n)&&isNaN(t)},sr=function(n,t){for(var i=n.length,a=0;a<i;){if(ar(n[a],t))return!0;a++}return!1},rt=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},te={},nt={},Z={INDEXEDDB:Dt,WEBSQL:$t,LOCALSTORAGE:ir},ur=[Z.INDEXEDDB._driver,Z.WEBSQL._driver,Z.LOCALSTORAGE._driver],ue=["dropInstance"],we=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ue),fr={description:"",driver:ur.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function cr(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function Ee(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(rt(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}var lr=function(){function e(n){v(this,e);for(var t in Z)if(Z.hasOwnProperty(t)){var i=Z[t],a=i._driver;this[t]=a,te[a]||this.defineDriver(i)}this._defaultConfig=Ee({},fr),this._config=Ee({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":c(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in t){if(i==="storeName"&&(t[i]=t[i].replace(/\W/g,"_")),i==="version"&&typeof t[i]!="number")return new Error("Database version must be a number.");this._config[i]=t[i]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,i,a){var o=new r(function(u,l){try{var d=t._driver,h=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){l(h);return}for(var m=we.concat("_initStorage"),b=0,x=m.length;b<x;b++){var N=m[b],C=!sr(ue,N);if((C||t[N])&&typeof t[N]!="function"){l(h);return}}var U=function(){for(var re=function(mr){return function(){var vr=new Error("Method "+mr+" is not implemented by the current driver"),ot=r.reject(vr);return s(ot,arguments[arguments.length-1]),ot}},Se=0,hr=ue.length;Se<hr;Se++){var Ie=ue[Se];t[Ie]||(t[Ie]=re(Ie))}};U();var L=function(re){te[d]&&console.info("Redefining LocalForage driver: "+d),te[d]=t,nt[d]=re,u()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(L,l):L(!!t._support):L(!0)}catch(j){l(j)}});return w(o,i,a),o},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,i,a){var o=te[t]?r.resolve(te[t]):r.reject(new Error("Driver not found."));return w(o,i,a),o},e.prototype.getSerializer=function(t){var i=r.resolve(_e);return w(i,t),i},e.prototype.ready=function(t){var i=this,a=i._driverSet.then(function(){return i._ready===null&&(i._ready=i._initDriver()),i._ready});return w(a,t,t),a},e.prototype.setDriver=function(t,i,a){var o=this;rt(t)||(t=[t]);var u=this._getSupportedDrivers(t);function l(){o._config.driver=o.driver()}function d(b){return o._extend(b),l(),o._ready=o._initStorage(o._config),o._ready}function h(b){return function(){var x=0;function N(){for(;x<b.length;){var C=b[x];return x++,o._dbInfo=null,o._ready=null,o.getDriver(C).then(d).catch(N)}l();var U=new Error("No available storage method found.");return o._driverSet=r.reject(U),o._driverSet}return N()}}var m=this._driverSet!==null?this._driverSet.catch(function(){return r.resolve()}):r.resolve();return this._driverSet=m.then(function(){var b=u[0];return o._dbInfo=null,o._ready=null,o.getDriver(b).then(function(x){o._driver=x._driver,l(),o._wrapLibraryMethodsWithReady(),o._initDriver=h(u)})}).catch(function(){l();var b=new Error("No available storage method found.");return o._driverSet=r.reject(b),o._driverSet}),w(this._driverSet,i,a),this._driverSet},e.prototype.supports=function(t){return!!nt[t]},e.prototype._extend=function(t){Ee(this,t)},e.prototype._getSupportedDrivers=function(t){for(var i=[],a=0,o=t.length;a<o;a++){var u=t[a];this.supports(u)&&i.push(u)}return i},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,i=we.length;t<i;t++)cr(this,we[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),dr=new lr;_.exports=dr},{3:3}]},{},[4])(4)})})(Me);var he=Me.exports;class gt{constructor(){this.booted=!1}boot(E,T){return this.callback=T,this.booted=!0,new Promise(_=>{const g=new Go;WebAssembly.instantiate(E,g.importObject).then(async c=>{g.run(c.instance),vt(),Be.InitLogging(!1),await Pe.InitializeDiskCache(async v=>{const y=await he.getItem(v);return y||new Uint8Array(0)},async(v,y)=>{await he.setItem(v,y)},async v=>await he.getItem(v)instanceof Uint8Array),_(void 0)})})}async loadData(E){const T=Date.now(),_=await Ue.InitializeAll("3.18",E);console.log("Initialization took",Date.now()-T,"ms"),_&&console.error(_)}async ImportCode(E){const[T,_]=Le.DecodeDecompress(E);if(_)throw _;const[g,c]=Ce.ParseBuildStr(T);if(c)throw c;this.currentBuild=g}async Tick(){if(!this.currentBuild)return;const E=Oe.NewCalculator(this.currentBuild);if(!E)return;const T=E.BuildOutput("MAIN");!T||!T.Player||!T.Player.MainSkill||this.callback&&this.callback({Output:T.Player.Output,OutputTable:T.Player.OutputTable,SkillFlags:T.Player.MainSkill.SkillFlags})}}ce(new gt)})();
